<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=ISO-8859-1" />
<title>ZEDR07_PRACTICE006</title>
<style type="text/css">
.code{ font-family:"Courier New", Courier, monospace; color:#000; font-size:14px; background-color:#F2F4F7 }
  .codeComment {font-family:"Courier New", Courier, monospace; color:#0000F0; font-size:14px; background-color:#F2F4F7 }
  .normalBold{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px; font-weight:800 }
  .normalBoldLarge{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:16px; font-weight:800 }
</style>
<style type="text/css">
  .normal{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px }
  .footer{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px; text-align: center }
  h2{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:16px; font-weight:800 }
  h3{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:14px; font-weight:800 }
  .outerTable{
   background-color:#E0E7ED;
   width:100%;
   border-top-width: thin;
   border-right-width: thin;
   border-right-width: thin;
   border-left-width: thin;
   border-top-style: solid;
   border-right-style: solid;
   border-bottom-style: solid;
   border-left-style: solid;
  }
  .innerTable{
   background-color:#F2F4F7;
   width:100%;
   border-top-width: thin;
   border-right-width: thin;
   border-bottom-width: thin;
   border-left-width: thin;
   border-top-style: solid;
   border-right-style: solid;
   border-bottom-style: solid;
   border-left-style: solid;
  }
</style>
</head>
<body>
<table class="outerTable">
  <tr class="normalBoldLarge">
     <td><h2>Code listing for: ZEDR07_PRACTICE006</h2>
<h3> Description: </h3></td>
   </tr>
  <tr>
     <td>
     <table class="innerTable">
       <tr>
          <td>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Report&nbsp;ZEDR07_PRACTICE006<br />
*&---------------------------------------------------------------------*<br />
*&<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
REPORT ZEDR07_PRACTICE006.<br />
<br />
TABLES : zedt07_101, zedt07_102, zedt07_103, zedt07_104, zedt07_105, zedt07_106.<br />
<br />
" ## ### ###<br />
DATA : BEGIN OF gs_emp,<br />
&nbsp;&nbsp;zpernr&nbsp;TYPE&nbsp;zedt07_102-zpernr,&nbsp;"####<br />
&nbsp;&nbsp;zpname&nbsp;TYPE&nbsp;zedt07_103-zpname,&nbsp;"####<br />
&nbsp;&nbsp;zdepcode&nbsp;TYPE&nbsp;zedt07_102-zdepcode,&nbsp;"####<br />
&nbsp;&nbsp;zdepname&nbsp;TYPE&nbsp;char20,&nbsp;"###<br />
&nbsp;&nbsp;zdeprank&nbsp;TYPE&nbsp;zedt07_102-zdeprank,&nbsp;"####<br />
&nbsp;&nbsp;zrankname&nbsp;TYPE&nbsp;char20,&nbsp;"###<br />
&nbsp;&nbsp;zedate&nbsp;TYPE&nbsp;zedt07_102-zedate,&nbsp;"###<br />
&nbsp;&nbsp;zqdate&nbsp;TYPE&nbsp;zedt07_102-zqdate,&nbsp;"###<br />
&nbsp;&nbsp;zqflag&nbsp;TYPE&nbsp;zedt07_102-zqflag,&nbsp;"####<br />
&nbsp;&nbsp;zqflag_t&nbsp;TYPE&nbsp;char4,&nbsp;"####(##)<br />
&nbsp;&nbsp;zgender&nbsp;TYPE&nbsp;zedt07_103-zgender,&nbsp;"##<br />
&nbsp;&nbsp;zaddress&nbsp;TYPE&nbsp;zedt07_103-zaddress,&nbsp;"##<br />
&nbsp;&nbsp;zbankcode&nbsp;TYPE&nbsp;zedt07_106-zbankcode,&nbsp;"####<br />
&nbsp;&nbsp;zbankname&nbsp;TYPE&nbsp;char20,&nbsp;"###<br />
&nbsp;&nbsp;zaccount&nbsp;TYPE&nbsp;zedt07_106-zaccount,&nbsp;"####<br />
&nbsp;&nbsp;END&nbsp;OF&nbsp;gs_emp.<br />
<br />
"## ### ###<br />
DATA : BEGIN OF gs_sal,<br />
&nbsp;&nbsp;zpernr&nbsp;TYPE&nbsp;zedt07_102-zpernr,&nbsp;"####<br />
&nbsp;&nbsp;zpname&nbsp;TYPE&nbsp;zedt07_103-zpname,&nbsp;"####<br />
&nbsp;&nbsp;zdepcode&nbsp;TYPE&nbsp;zedt07_102-zdepcode,&nbsp;"####<br />
&nbsp;&nbsp;zdepname&nbsp;TYPE&nbsp;char20,&nbsp;"###<br />
&nbsp;&nbsp;zdeprank&nbsp;TYPE&nbsp;zedt07_102-zdeprank,&nbsp;"####<br />
&nbsp;&nbsp;zrankname&nbsp;TYPE&nbsp;char20,&nbsp;"###<br />
&nbsp;&nbsp;zedate&nbsp;TYPE&nbsp;zedt07_102-zedate,&nbsp;"###<br />
&nbsp;&nbsp;zqdate&nbsp;TYPE&nbsp;zedt07_102-zqdate,&nbsp;"###<br />
&nbsp;&nbsp;zqflag&nbsp;TYPE&nbsp;zedt07_102-zqflag,&nbsp;"####<br />
&nbsp;&nbsp;zsalary&nbsp;TYPE&nbsp;zedt07_106-zsalary,&nbsp;"####<br />
&nbsp;&nbsp;zpay_amt&nbsp;TYPE&nbsp;zedt07_106-zsalary,&nbsp;"###<br />
&nbsp;&nbsp;zrank&nbsp;TYPE&nbsp;zedt07_104-zrank,&nbsp;"####<br />
&nbsp;&nbsp;zmon01&nbsp;TYPE&nbsp;zedt07_105-zmon01,<br />
&nbsp;&nbsp;zmon02&nbsp;TYPE&nbsp;zedt07_105-zmon02,<br />
&nbsp;&nbsp;zmon03&nbsp;TYPE&nbsp;zedt07_105-zmon03,<br />
&nbsp;&nbsp;zmon04&nbsp;TYPE&nbsp;zedt07_105-zmon04,<br />
&nbsp;&nbsp;zmon05&nbsp;TYPE&nbsp;zedt07_105-zmon05,<br />
&nbsp;&nbsp;zmon06&nbsp;TYPE&nbsp;zedt07_105-zmon06,<br />
&nbsp;&nbsp;zmon07&nbsp;TYPE&nbsp;zedt07_105-zmon07,<br />
&nbsp;&nbsp;zmon08&nbsp;TYPE&nbsp;zedt07_105-zmon08,<br />
&nbsp;&nbsp;zmon09&nbsp;TYPE&nbsp;zedt07_105-zmon09,<br />
&nbsp;&nbsp;zmon10&nbsp;TYPE&nbsp;zedt07_105-zmon10,<br />
&nbsp;&nbsp;zmon11&nbsp;TYPE&nbsp;zedt07_105-zmon11,<br />
&nbsp;&nbsp;zmon12&nbsp;TYPE&nbsp;zedt07_105-zmon12,<br />
&nbsp;&nbsp;END&nbsp;OF&nbsp;gs_sal.<br />
<br />
"## ### ###<br />
DATA: BEGIN OF gs_eval,<br />
&nbsp;&nbsp;zpernr&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;zedt07_102-zpernr,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"####<br />
&nbsp;&nbsp;zpname&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;zedt07_103-zpname,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"####<br />
&nbsp;&nbsp;zdepcode&nbsp;&nbsp;TYPE&nbsp;zedt07_102-zdepcode,&nbsp;&nbsp;&nbsp;&nbsp;"####<br />
&nbsp;&nbsp;zdepname&nbsp;&nbsp;TYPE&nbsp;char20,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"###<br />
&nbsp;&nbsp;zdeprank&nbsp;&nbsp;TYPE&nbsp;zedt07_102-zdeprank,&nbsp;&nbsp;&nbsp;&nbsp;"####<br />
&nbsp;&nbsp;zrankname&nbsp;TYPE&nbsp;char20,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"###<br />
&nbsp;&nbsp;zqflag&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;zedt07_102-zqflag,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"####<br />
&nbsp;&nbsp;zqflag_t&nbsp;&nbsp;TYPE&nbsp;char10,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"####(##)<br />
&nbsp;&nbsp;zrank&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;zedt07_104-zrank,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"####<br />
&nbsp;&nbsp;zsalary&nbsp;&nbsp;&nbsp;TYPE&nbsp;zedt07_106-zsalary,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"####<br />
<br />
&nbsp;&nbsp;"-----&nbsp;12##&nbsp;###&nbsp;##&nbsp;(ALV&nbsp;##&nbsp;###&nbsp;##&nbsp;###&nbsp;##)&nbsp;-----<br />
&nbsp;&nbsp;zmon01&nbsp;TYPE&nbsp;zedt07_105-zmon01,<br />
&nbsp;&nbsp;zmon02&nbsp;TYPE&nbsp;zedt07_105-zmon02,<br />
&nbsp;&nbsp;zmon03&nbsp;TYPE&nbsp;zedt07_105-zmon03,<br />
&nbsp;&nbsp;zmon04&nbsp;TYPE&nbsp;zedt07_105-zmon04,<br />
&nbsp;&nbsp;zmon05&nbsp;TYPE&nbsp;zedt07_105-zmon05,<br />
&nbsp;&nbsp;zmon06&nbsp;TYPE&nbsp;zedt07_105-zmon06,<br />
&nbsp;&nbsp;zmon07&nbsp;TYPE&nbsp;zedt07_105-zmon07,<br />
&nbsp;&nbsp;zmon08&nbsp;TYPE&nbsp;zedt07_105-zmon08,<br />
&nbsp;&nbsp;zmon09&nbsp;TYPE&nbsp;zedt07_105-zmon09,<br />
&nbsp;&nbsp;zmon10&nbsp;TYPE&nbsp;zedt07_105-zmon10,<br />
&nbsp;&nbsp;zmon11&nbsp;TYPE&nbsp;zedt07_105-zmon11,<br />
&nbsp;&nbsp;zmon12&nbsp;TYPE&nbsp;zedt07_105-zmon12,<br />
END OF gs_eval.<br />
<br />
<br />
CONSTANTS : c_check TYPE c VALUE 'X',<br />
&nbsp;&nbsp;c_male&nbsp;TYPE&nbsp;c&nbsp;VALUE&nbsp;'M',&nbsp;"#<br />
&nbsp;&nbsp;c_female&nbsp;TYPE&nbsp;c&nbsp;VALUE&nbsp;'F',&nbsp;"#<br />
&nbsp;&nbsp;c_rank_a&nbsp;TYPE&nbsp;c&nbsp;VALUE&nbsp;'A',<br />
&nbsp;&nbsp;c_bonus&nbsp;TYPE&nbsp;p&nbsp;DECIMALS&nbsp;2&nbsp;VALUE&nbsp;'50000.00',&nbsp;"###<br />
&nbsp;&nbsp;c_quit&nbsp;TYPE&nbsp;c&nbsp;VALUE&nbsp;'X',&nbsp;"##<br />
&nbsp;&nbsp;c_active&nbsp;TYPE&nbsp;char10&nbsp;VALUE&nbsp;'##',<br />
&nbsp;&nbsp;c_quit_t&nbsp;TYPE&nbsp;char10&nbsp;VALUE&nbsp;'##',<br />
&nbsp;&nbsp;c_zero&nbsp;TYPE&nbsp;p&nbsp;DECIMALS&nbsp;2&nbsp;VALUE&nbsp;0.<br />
<br />
DATA : gt_emp LIKE TABLE OF gs_emp.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"gs_emp&nbsp;TYPE&nbsp;ty_emp.<br />
<br />
DATA : gt_sal LIKE TABLE OF gs_sal.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"gs_sal&nbsp;TYPE&nbsp;ty_sal.<br />
<br />
DATA : gt_eval LIKE TABLE OF gs_eval.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"gs_eval&nbsp;TYPE&nbsp;ty_eval.<br />
<br />
   </div>
   <div class="codeComment">
*ALV&nbsp;##<br />
   </div>
   <div class="code">
DATA : gt_fcat TYPE slis_t_fieldcat_alv, "FIELD CATALOG<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_fcat&nbsp;TYPE&nbsp;slis_fieldcat_alv,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_sort&nbsp;TYPE&nbsp;slis_t_sortinfo_alv,&nbsp;"SORT<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sort&nbsp;TYPE&nbsp;slis_sortinfo_alv,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_layout&nbsp;TYPE&nbsp;slis_layout_alv.&nbsp;"LAYOUT<br />
<br />
   </div>
   <div class="codeComment">
*RANGES<br />
   </div>
   <div class="code">
RANGES : r_date FOR zedt07_102-datab, "#### ##<br />
&nbsp;&nbsp;r_pernr&nbsp;FOR&nbsp;zedt07_102-zpernr,&nbsp;"####&nbsp;##<br />
&nbsp;&nbsp;r_year&nbsp;FOR&nbsp;zedt07_104-zyear.&nbsp;"##&nbsp;##<br />
<br />
   </div>
   <div class="codeComment">
*SCREEN<br />
   </div>
   <div class="code">
SELECTION-SCREEN BEGIN OF BLOCK b1 WITH FRAME.<br />
<br />
&nbsp;&nbsp;"####<br />
&nbsp;&nbsp;SELECT-OPTIONS&nbsp;s_pernr&nbsp;FOR&nbsp;zedt07_102-zpernr&nbsp;MODIF&nbsp;ID&nbsp;all.<br />
<br />
&nbsp;&nbsp;"#####<br />
&nbsp;&nbsp;SELECT-OPTIONS&nbsp;s_date&nbsp;FOR&nbsp;zedt07_102-datab&nbsp;MODIF&nbsp;ID&nbsp;m1.<br />
&nbsp;&nbsp;SELECT-OPTIONS&nbsp;s_dept&nbsp;FOR&nbsp;zedt07_102-zdepcode&nbsp;MODIF&nbsp;ID&nbsp;m1.<br />
<br />
&nbsp;&nbsp;"####<br />
&nbsp;&nbsp;PARAMETERS&nbsp;:&nbsp;p_year&nbsp;TYPE&nbsp;zedt07_104-zyear&nbsp;MODIF&nbsp;ID&nbsp;m2,<br />
&nbsp;&nbsp;&nbsp;&nbsp;p_month&nbsp;TYPE&nbsp;numc2&nbsp;MODIF&nbsp;ID&nbsp;m2.<br />
<br />
SELECTION-SCREEN END OF BLOCK b1.<br />
<br />
SELECTION-SCREEN BEGIN OF BLOCK b2 WITH FRAME.<br />
&nbsp;&nbsp;"#####<br />
&nbsp;&nbsp;PARAMETERS&nbsp;:&nbsp;p_rad1&nbsp;RADIOBUTTON&nbsp;GROUP&nbsp;rb1&nbsp;DEFAULT&nbsp;'X'&nbsp;USER-COMMAND&nbsp;uc1,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p_rad2&nbsp;RADIOBUTTON&nbsp;GROUP&nbsp;rb1,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p_rad3&nbsp;RADIOBUTTON&nbsp;GROUP&nbsp;rb1.<br />
<br />
SELECTION-SCREEN END OF BLOCK b2.<br />
<br />
SELECTION-SCREEN BEGIN OF BLOCK b3 WITH FRAME.<br />
&nbsp;&nbsp;"####&nbsp;####<br />
&nbsp;&nbsp;PARAMETERS&nbsp;:&nbsp;p_ch1&nbsp;AS&nbsp;CHECKBOX&nbsp;DEFAULT&nbsp;'X'&nbsp;MODIF&nbsp;ID&nbsp;m1.<br />
<br />
SELECTION-SCREEN END OF BLOCK b3.<br />
<br />
INITIALIZATION.<br />
&nbsp;&nbsp;PERFORM&nbsp;get_last_day.<br />
<br />
AT SELECTION-SCREEN OUTPUT.<br />
&nbsp;&nbsp;PERFORM&nbsp;set_screen.<br />
<br />
AT SELECTION-SCREEN.<br />
&nbsp;&nbsp;PERFORM&nbsp;check_input.<br />
<br />
START-OF-SELECTION.<br />
&nbsp;&nbsp;PERFORM&nbsp;main_process.<br />
<br />
END-OF-SELECTION.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;GET_LAST_DAY<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;###&nbsp;#&nbsp;#####&nbsp;perform<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM GET_LAST_DAY .<br />
<br />
&nbsp;&nbsp;p_year&nbsp;=&nbsp;sy-datum(4).&nbsp;"##&nbsp;##<br />
&nbsp;&nbsp;p_month&nbsp;=&nbsp;sy-datum+4(2).&nbsp;"##&nbsp;#<br />
<br />
&nbsp;&nbsp;"####&nbsp;##&nbsp;#<br />
&nbsp;&nbsp;s_date-sign&nbsp;=&nbsp;'I'.<br />
&nbsp;&nbsp;s_date-option&nbsp;=&nbsp;'BT'.<br />
&nbsp;&nbsp;s_date-low&nbsp;=&nbsp;sy-datum(4)&nbsp;&&&nbsp;'0101'.<br />
<br />
&nbsp;&nbsp;CALL&nbsp;FUNCTION&nbsp;'RP_LAST_DAY_OF_MONTHS'<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;day_in&nbsp;=&nbsp;sy-datum<br />
&nbsp;&nbsp;&nbsp;&nbsp;IMPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last_day_of_month&nbsp;=&nbsp;s_date-high<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXCEPTIONS<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;day_in_no_date&nbsp;=&nbsp;1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OTHERS&nbsp;=&nbsp;2.<br />
<br />
&nbsp;&nbsp;APPEND&nbsp;s_date.<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;SET_SCREEN<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;###,&nbsp;#####&nbsp;#&nbsp;##&nbsp;##&nbsp;##<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM SET_SCREEN .<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;SCREEN.<br />
&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;&nbsp;screen-group1.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'M1'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;p_rad1&nbsp;=&nbsp;c_check.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screen-active&nbsp;=&nbsp;1.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screen-active&nbsp;=&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'M2'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;p_rad2&nbsp;=&nbsp;c_check&nbsp;or&nbsp;p_rad3&nbsp;=&nbsp;c_check.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screen-active&nbsp;=&nbsp;1.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screen-active&nbsp;=&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'ALL'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screen-active&nbsp;=&nbsp;1.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDCASE.<br />
&nbsp;&nbsp;&nbsp;&nbsp;MODIFY&nbsp;SCREEN.<br />
&nbsp;&nbsp;ENDLOOP.<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;CHECK_INPUT<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM CHECK_INPUT .<br />
&nbsp;&nbsp;IF&nbsp;p_rad1&nbsp;=&nbsp;c_check.&nbsp;"####<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;s_date[]&nbsp;IS&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'#####&nbsp;######'&nbsp;TYPE&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STOP.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
&nbsp;&nbsp;ELSEIF&nbsp;p_rad2&nbsp;=&nbsp;c_check.&nbsp;"####<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;p_year&nbsp;IS&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'#####&nbsp;######'&nbsp;TYPE&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STOP.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;p_month&nbsp;IS&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'####&nbsp;######'&nbsp;TYPE&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STOP.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"#&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;&nbsp;p_month&nbsp;&lt;&nbsp;1&nbsp;OR&nbsp;p_month&nbsp;&gt;&nbsp;12.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'##&nbsp;1-12&nbsp;###&nbsp;####&nbsp;###.'&nbsp;TYPE&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STOP.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;ELSEIF&nbsp;p_rad3&nbsp;=&nbsp;c_check.&nbsp;"####<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;p_year&nbsp;IS&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'#####&nbsp;######'&nbsp;TYPE&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STOP.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
&nbsp;&nbsp;ENDIF.<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;MAIN_PROCESS<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##&nbsp;####<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM MAIN_PROCESS .<br />
&nbsp;&nbsp;IF&nbsp;p_rad1&nbsp;=&nbsp;c_check.&nbsp;"##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;get_emp_info.&nbsp;"##&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;display_emp.&nbsp;"##&nbsp;##&nbsp;##<br />
<br />
&nbsp;&nbsp;ELSEIF&nbsp;p_rad2&nbsp;=&nbsp;c_check.<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;get_pay_info.&nbsp;"##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;display_pay.&nbsp;"##&nbsp;##&nbsp;##<br />
<br />
&nbsp;&nbsp;ELSEIF&nbsp;p_rad3&nbsp;=&nbsp;c_check.<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;get_eval_info.&nbsp;"##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;display_eval.&nbsp;"##&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;ENDIF.<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;GET_EMP_INFO<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##&nbsp;##&nbsp;##<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM GET_EMP_INFO .<br />
&nbsp;&nbsp;SELECT&nbsp;"####&nbsp;####&nbsp;####<br />
&nbsp;&nbsp;&nbsp;&nbsp;a~zpernr,&nbsp;a~zdeprank,&nbsp;a~zdepcode,&nbsp;a~zedate,&nbsp;a~zqdate,&nbsp;a~zqflag,<br />
&nbsp;&nbsp;&nbsp;&nbsp;b~zgender,&nbsp;b~zpname,&nbsp;b~zaddress,<br />
&nbsp;&nbsp;&nbsp;&nbsp;c~zbankcode,&nbsp;c~zaccount<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;zedt07_102&nbsp;as&nbsp;a<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;OUTER&nbsp;JOIN&nbsp;zedt07_103&nbsp;as&nbsp;b<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;a~zpernr&nbsp;=&nbsp;b~zpernr<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;OUTER&nbsp;JOIN&nbsp;zedt07_106&nbsp;as&nbsp;c<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;a~zpernr&nbsp;=&nbsp;c~zpernr<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;WHERE<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a~zpernr&nbsp;IN&nbsp;@s_pernr<br />
&nbsp;&nbsp;&nbsp;&nbsp;AND<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a~zedate&nbsp;IN&nbsp;@s_date<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;@gt_emp.&nbsp;"alv&nbsp;###&nbsp;####&nbsp;##<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;p_ch1&nbsp;=&nbsp;c_check.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DELETE<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_emp<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"zqdate&nbsp;&lt;=&nbsp;s_date-high<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zqflag&nbsp;=&nbsp;c_quit<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zqdate&nbsp;IS&nbsp;NOT&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ELSE.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DELETE<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_emp<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zqdate&nbsp;&lt;=&nbsp;s_date-high<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zqflag&nbsp;=&nbsp;c_quit.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;convert_ko.<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;CONVERT_KO<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##&nbsp;##<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM CONVERT_KO .<br />
&nbsp;&nbsp;"##&nbsp;##<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;gt_emp&nbsp;INTO&nbsp;gs_emp.<br />
&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;gs_emp-zgender.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;c_male.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zgender&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;c_female.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zgender&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDCASE.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"##,&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;gs_emp-zqflag&nbsp;IS&nbsp;NOT&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zqflag_t&nbsp;=&nbsp;c_quit_t.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ELSE.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zqflag_t&nbsp;=&nbsp;c_active.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;gs_emp-zdepcode.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0001'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0002'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0003'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0004'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0005'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0006'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDCASE.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;gs_emp-zdeprank.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'A'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'B'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'C'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'D'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'F'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'G'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDCASE.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"###&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;gs_emp-zbankcode.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'001'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zbankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'002'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zbankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'003'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zbankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'004'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zbankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'005'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_emp-zbankname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDCASE.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;MODIFY&nbsp;gt_emp&nbsp;FROM&nbsp;gs_emp.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;&nbsp;&nbsp;MODIFY&nbsp;gt_emp&nbsp;FROM&nbsp;gs_emp&nbsp;TRANSPORTING<br />
*&nbsp;&nbsp;zgender&nbsp;zqflag_t&nbsp;zdepname&nbsp;zrankname&nbsp;zbankname.<br />
   </div>
   <div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;ENDLOOP.<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;DISPLAY_EMP<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##&nbsp;##&nbsp;##<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM DISPLAY_EMP .<br />
&nbsp;&nbsp;PERFORM&nbsp;set_fieldcat_emp.<br />
&nbsp;&nbsp;PERFORM&nbsp;set_sort_emp.<br />
<br />
&nbsp;&nbsp;gs_layout-zebra&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;gs_layout-colwidth_optimize&nbsp;=&nbsp;'X'.<br />
<br />
&nbsp;&nbsp;CALL&nbsp;FUNCTION&nbsp;'REUSE_ALV_GRID_DISPLAY'<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i_callback_program&nbsp;=&nbsp;sy-repid<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is_layout&nbsp;=&nbsp;gs_layout<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it_fieldcat&nbsp;=&nbsp;gt_fcat<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it_sort&nbsp;=&nbsp;gt_sort<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;TABLES<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t_outtab&nbsp;=&nbsp;gt_emp<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXCEPTIONS<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;program_error&nbsp;=&nbsp;1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OTHERS&nbsp;=&nbsp;2.<br />
<br />
&nbsp;&nbsp;IF&nbsp;sy-subrc&nbsp;&lt;&gt;&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'ALV&nbsp;##&nbsp;#&nbsp;##'&nbsp;TYPE&nbsp;'E'.<br />
&nbsp;&nbsp;ENDIF.<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;SET_FIELDCAT_EMP<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;###&nbsp;##<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM SET_FIELDCAT_EMP .<br />
&nbsp;&nbsp;CLEAR&nbsp;gt_fcat.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;DATA:&nbsp;gs_fact&nbsp;TYPE&nbsp;slis_fieldcat_alv.<br />
   </div>
   <div class="code">
&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;gs_fcat.<br />
<br />
&nbsp;&nbsp;gs_fcat-fieldname&nbsp;=&nbsp;'ZPERNR'.<br />
&nbsp;&nbsp;gs_fcat-seltext_m&nbsp;=&nbsp;'####'.<br />
&nbsp;&nbsp;gs_fcat-outputlen&nbsp;=&nbsp;10.<br />
&nbsp;&nbsp;gs_fcat-key&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;APPEND&nbsp;gs_fcat&nbsp;To&nbsp;gt_fcat.<br />
<br />
&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;gs_fcat.<br />
<br />
&nbsp;&nbsp;gs_fcat-fieldname&nbsp;=&nbsp;'ZPNAME'.<br />
&nbsp;&nbsp;gs_fcat-seltext_m&nbsp;=&nbsp;'####'.<br />
&nbsp;&nbsp;gs_fcat-outputlen&nbsp;=&nbsp;10.<br />
&nbsp;&nbsp;gs_fcat-key&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;APPEND&nbsp;gs_fcat&nbsp;To&nbsp;gt_fcat.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZPERNR'&nbsp;'####'&nbsp;'10'.<br />
*&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZPNAME'&nbsp;'####'&nbsp;'15'.<br />
   </div>
   <div class="code">
&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZDEPCODE'&nbsp;'####'&nbsp;'10'.<br />
&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZDEPNAME'&nbsp;'###'&nbsp;'10'.<br />
&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZRANKNAME'&nbsp;'###'&nbsp;'10'.<br />
&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZEDATE'&nbsp;'###'&nbsp;'10'.<br />
&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZQFLAG_T'&nbsp;'####'&nbsp;'10'.<br />
&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZGENDER'&nbsp;'##'&nbsp;'10'.<br />
&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZADDRESS'&nbsp;'##'&nbsp;'20'.<br />
&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZBANKCODE'&nbsp;'####'&nbsp;'10'.<br />
&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZBANKNAME'&nbsp;'###'&nbsp;'10'.<br />
&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZACCOUNT'&nbsp;'####'&nbsp;'20'.<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;ADD_FIELDCAT<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;###&nbsp;##<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;P_0830&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;P_0831&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;P_0832&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM ADD_FCAT  USING  p_fieldname TYPE char30<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p_text&nbsp;TYPE&nbsp;char50<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p_outputlen&nbsp;TYPE&nbsp;char10.<br />
<br />
&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;gs_fcat.<br />
<br />
&nbsp;&nbsp;gs_fcat-fieldname&nbsp;=&nbsp;p_fieldname.<br />
&nbsp;&nbsp;gs_fcat-seltext_m&nbsp;=&nbsp;p_text.<br />
&nbsp;&nbsp;gs_fcat-outputlen&nbsp;=&nbsp;p_outputlen.<br />
&nbsp;&nbsp;APPEND&nbsp;gs_fcat&nbsp;To&nbsp;gt_fcat.<br />
<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;SET_SORT_EMP<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##&nbsp;##<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM SET_SORT_EMP .<br />
&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;gt_sort.<br />
<br />
&nbsp;&nbsp;"#####&nbsp;##<br />
&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;gs_sort.<br />
&nbsp;&nbsp;gs_sort-fieldname&nbsp;=&nbsp;'ZPERNR'.<br />
&nbsp;&nbsp;gs_sort-up&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;APPEND&nbsp;gs_sort&nbsp;TO&nbsp;gt_sort.<br />
<br />
&nbsp;&nbsp;"#####<br />
&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;gs_sort.<br />
&nbsp;&nbsp;gs_sort-fieldname&nbsp;=&nbsp;'ZDEPCODE'.<br />
&nbsp;&nbsp;gs_sort-up&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;APPEND&nbsp;gs_sort&nbsp;TO&nbsp;gt_sort.<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;GET_PAY_INFO<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##&nbsp;##<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM GET_PAY_INFO .<br />
<br />
&nbsp;&nbsp;DATA&nbsp;:&nbsp;lv_last_day&nbsp;TYPE&nbsp;d,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_pay_date&nbsp;TYPE&nbsp;d,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_dayin&nbsp;TYPE&nbsp;d,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_amt&nbsp;TYPE&nbsp;p&nbsp;DECIMALS&nbsp;2,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_flag&nbsp;TYPE&nbsp;c&nbsp;VALUE&nbsp;'X',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon&nbsp;TYPE&nbsp;zedt07_105.<br />
<br />
&nbsp;&nbsp;CONCATENATE&nbsp;p_year&nbsp;p_month&nbsp;'01'&nbsp;INTO&nbsp;lv_dayin.<br />
<br />
&nbsp;&nbsp;"##&nbsp;#&nbsp;###&nbsp;#&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;CALL&nbsp;FUNCTION&nbsp;'RP_LAST_DAY_OF_MONTHS'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;day_in&nbsp;=&nbsp;lv_dayin<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IMPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last_day_of_month&nbsp;=&nbsp;lv_last_day<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EXCEPTIONS<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;day_in_no_date&nbsp;=&nbsp;1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OTHERS&nbsp;=&nbsp;2.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"###&nbsp;##.<br />
&nbsp;&nbsp;&nbsp;&nbsp;lv_pay_date&nbsp;=&nbsp;lv_last_day.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR&nbsp;gt_sal.<br />
&nbsp;&nbsp;SELECT<br />
&nbsp;&nbsp;&nbsp;&nbsp;a~zpernr,&nbsp;a~zdepcode,&nbsp;a~zdeprank,&nbsp;a~zedate,&nbsp;a~zqflag,&nbsp;a~zqdate,<br />
&nbsp;&nbsp;&nbsp;&nbsp;b~zpname,<br />
&nbsp;&nbsp;&nbsp;&nbsp;c~zsalary,<br />
&nbsp;&nbsp;&nbsp;&nbsp;d~zrank<br />
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;zedt07_102&nbsp;AS&nbsp;a<br />
&nbsp;&nbsp;&nbsp;&nbsp;INNER&nbsp;JOIN&nbsp;zedt07_103&nbsp;AS&nbsp;b<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;a~zpernr&nbsp;=&nbsp;b~zpernr<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;JOIN&nbsp;&nbsp;zedt07_106&nbsp;AS&nbsp;c<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;a~zpernr&nbsp;=&nbsp;c~zpernr<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;JOIN&nbsp;&nbsp;zedt07_104&nbsp;AS&nbsp;d<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;a~zpernr&nbsp;=&nbsp;d~zpernr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;d~zyear&nbsp;=&nbsp;@p_year<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;a~zpernr&nbsp;IN&nbsp;@s_pernr<br />
&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;@gt_sal.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;DELETE&nbsp;gt_sal&nbsp;WHERE&nbsp;zedate&nbsp;&gt;&nbsp;lv_last_day.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;DELETE&nbsp;gt_sal&nbsp;WHERE&nbsp;zqflag&nbsp;=&nbsp;c_quit&nbsp;AND&nbsp;zqdate&nbsp;&lt;=&nbsp;lv_last_day.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;gt_sal&nbsp;INTO&nbsp;gs_sal.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;lv_amt&nbsp;=&nbsp;(&nbsp;gs_sal-zsalary&nbsp;*&nbsp;100&nbsp;)&nbsp;/&nbsp;12.<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;gs_sal-zrank&nbsp;=&nbsp;'A'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_amt&nbsp;=&nbsp;lv_amt&nbsp;+&nbsp;50000.&nbsp;"###<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;*&nbsp;FROM&nbsp;zedt07_105&nbsp;INTO&nbsp;@ls_mon<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;zpernr&nbsp;=&nbsp;@gs_sal-zpernr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;zyear&nbsp;=&nbsp;@p_year.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;sy-subrc&nbsp;&lt;&gt;&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CLEAR&nbsp;ls_mon.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon-zpernr&nbsp;=&nbsp;gs_sal-zpernr.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon-zyear&nbsp;=&nbsp;p_year.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"##&nbsp;##&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;p_month&nbsp;=&nbsp;'01'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon-zmon01&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ELSEIF&nbsp;p_month&nbsp;=&nbsp;'02'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon-zmon02&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ELSEIF&nbsp;p_month&nbsp;=&nbsp;'03'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon-zmon03&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ELSEIF&nbsp;p_month&nbsp;=&nbsp;'04'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon-zmon04&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ELSEIF&nbsp;p_month&nbsp;=&nbsp;'05'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon-zmon05&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ELSEIF&nbsp;p_month&nbsp;=&nbsp;'06'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon-zmon06&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ELSEIF&nbsp;p_month&nbsp;=&nbsp;'07'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon-zmon07&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ELSEIF&nbsp;p_month&nbsp;=&nbsp;'08'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon-zmon08&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ELSEIF&nbsp;p_month&nbsp;=&nbsp;'09'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon-zmon09&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ELSEIF&nbsp;p_month&nbsp;=&nbsp;'10'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon-zmon10&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ELSEIF&nbsp;p_month&nbsp;=&nbsp;'11'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon-zmon11&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ELSEIF&nbsp;p_month&nbsp;=&nbsp;'12'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon-zmon12&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"lv_amt&nbsp;=&nbsp;lv_amt&nbsp;*&nbsp;100.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"ALV&nbsp;###&nbsp;##&nbsp;#####&nbsp;##&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;p_month.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'01'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zmon01&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'02'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zmon02&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'03'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zmon03&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'04'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zmon04&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'05'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zmon05&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'06'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zmon06&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'07'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zmon07&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'08'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zmon08&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'09'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zmon09&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'10'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zmon10&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'11'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zmon11&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'12'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zmon12&nbsp;=&nbsp;lv_amt.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDCASE.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"####&nbsp;1000#&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zsalary&nbsp;=&nbsp;gs_sal-zsalary&nbsp;*&nbsp;100.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;MODIFY&nbsp;gt_sal&nbsp;FROM&nbsp;gs_sal.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"##<br />
&nbsp;&nbsp;&nbsp;&nbsp;MODIFY&nbsp;zedt07_105&nbsp;FROM&nbsp;ls_mon.<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;sy-subrc&nbsp;&lt;&gt;&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_flag&nbsp;=&nbsp;space.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EXIT.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
&nbsp;&nbsp;ENDLOOP.<br />
<br />
&nbsp;&nbsp;IF&nbsp;lv_flag&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;COMMIT&nbsp;WORK.<br />
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'###&nbsp;#######.'&nbsp;TYPE&nbsp;'S'.<br />
&nbsp;&nbsp;ELSE.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ROLLBACK&nbsp;WORK.<br />
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'####&nbsp;##'&nbsp;TYPE&nbsp;'E'.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
PERFORM convert_ko_pay.<br />
<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;CONVERT_KO_PAY<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM CONVERT_KO_PAY .<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;gt_sal&nbsp;INTO&nbsp;gs_sal.<br />
&nbsp;&nbsp;&nbsp;&nbsp;"##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;gs_sal-zdepcode.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0001'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0002'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0003'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0004'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0005'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0006'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDCASE.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;gs_sal-zdeprank.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'A'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'B'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'C'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'D'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'F'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'G'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sal-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDCASE.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;MODIFY&nbsp;gt_sal&nbsp;FROM&nbsp;gs_sal.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDLOOP.<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;DISPLAY_PAY<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM DISPLAY_PAY .<br />
&nbsp;&nbsp;PERFORM&nbsp;set_fieldcat_pay_info.<br />
<br />
&nbsp;&nbsp;CALL&nbsp;FUNCTION&nbsp;'REUSE_ALV_GRID_DISPLAY'<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I_CALLBACK_PROGRAM&nbsp;=&nbsp;SY-REPID<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IS_LAYOUT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;GS_LAYOUT<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IT_FIELDCAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;GT_FCAT<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IT_SORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;GT_SORT<br />
&nbsp;&nbsp;&nbsp;&nbsp;TABLES<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T_OUTTAB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;GT_sal<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXCEPTIONS<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROGRAM_ERROR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OTHERS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;2.<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;SET_FIELDCAT_PAY_INFO<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM SET_FIELDCAT_PAY_INFO .<br />
&nbsp;&nbsp;CLEAR&nbsp;gt_fcat.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZPERNR'&nbsp;'####'&nbsp;'10'.<br />
*&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZPNAME'&nbsp;'####'&nbsp;'10'.<br />
<br />
   </div>
   <div class="code">
&nbsp;&nbsp;CLEAR&nbsp;gs_fcat.<br />
&nbsp;&nbsp;gs_fcat-fieldname&nbsp;=&nbsp;'ZPERNR'.<br />
&nbsp;&nbsp;gs_fcat-seltext_m&nbsp;=&nbsp;'####'.<br />
&nbsp;&nbsp;gs_fcat-outputlen&nbsp;=&nbsp;10.<br />
&nbsp;&nbsp;gs_fcat-key&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;APPEND&nbsp;gs_fcat&nbsp;TO&nbsp;gt_fcat.<br />
<br />
&nbsp;&nbsp;CLEAR&nbsp;gs_fcat.<br />
&nbsp;&nbsp;gs_fcat-fieldname&nbsp;=&nbsp;'ZPNAME'.<br />
&nbsp;&nbsp;gs_fcat-seltext_m&nbsp;=&nbsp;'####'.<br />
&nbsp;&nbsp;gs_fcat-outputlen&nbsp;=&nbsp;10.<br />
&nbsp;&nbsp;gs_fcat-key&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;APPEND&nbsp;gs_fcat&nbsp;TO&nbsp;gt_fcat.<br />
<br />
&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZDEPCODE'&nbsp;'####'&nbsp;'10'.<br />
&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZDEPNAME'&nbsp;'###'&nbsp;'10'.<br />
&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZRANKNAME'&nbsp;'###'&nbsp;'10'.<br />
&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZEDATE'&nbsp;'###'&nbsp;'10'.<br />
&nbsp;&nbsp;"PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZSALARY'&nbsp;'####'&nbsp;'10'.<br />
&nbsp;&nbsp;"PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZRANK'&nbsp;'####'&nbsp;'10'.<br />
<br />
&nbsp;&nbsp;"####&nbsp;##&nbsp;:&nbsp;###&nbsp;##<br />
&nbsp;&nbsp;CLEAR&nbsp;gs_fcat.<br />
&nbsp;&nbsp;gs_fcat-fieldname&nbsp;=&nbsp;'ZSALARY'.<br />
&nbsp;&nbsp;gs_fcat-seltext_m&nbsp;=&nbsp;'####'.<br />
&nbsp;&nbsp;gs_fcat-outputlen&nbsp;=&nbsp;20.<br />
&nbsp;&nbsp;gs_fcat-decimals_out&nbsp;=&nbsp;0.<br />
&nbsp;&nbsp;gs_fcat-do_sum&nbsp;=&nbsp;'X'.&nbsp;"###&nbsp;##<br />
&nbsp;&nbsp;APPEND&nbsp;gs_fcat&nbsp;TO&nbsp;gt_fcat.<br />
<br />
&nbsp;&nbsp;"####<br />
&nbsp;&nbsp;PERFORM&nbsp;add_fcat&nbsp;USING&nbsp;'ZRANK'&nbsp;'####'&nbsp;'10'.<br />
<br />
&nbsp;&nbsp;"##&nbsp;###&nbsp;###&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;DATA:&nbsp;lv_field&nbsp;TYPE&nbsp;char30,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_text&nbsp;&nbsp;TYPE&nbsp;char50.<br />
<br />
&nbsp;&nbsp;lv_field&nbsp;=&nbsp;|ZMON{&nbsp;p_month&nbsp;}|.<br />
&nbsp;&nbsp;lv_text&nbsp;&nbsp;=&nbsp;|{&nbsp;p_month&nbsp;}#&nbsp;###|.<br />
<br />
&nbsp;&nbsp;"##&nbsp;###&nbsp;:&nbsp;###&nbsp;##<br />
&nbsp;&nbsp;CLEAR&nbsp;gs_fcat.<br />
&nbsp;&nbsp;gs_fcat-fieldname&nbsp;=&nbsp;lv_field.<br />
&nbsp;&nbsp;gs_fcat-seltext_m&nbsp;=&nbsp;lv_text.<br />
&nbsp;&nbsp;gs_fcat-outputlen&nbsp;=&nbsp;20.<br />
&nbsp;&nbsp;gs_fcat-decimals_out&nbsp;=&nbsp;0.<br />
&nbsp;&nbsp;gs_fcat-do_sum&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;APPEND&nbsp;gs_fcat&nbsp;TO&nbsp;gt_fcat.<br />
<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;GET_EVAL_INFO<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM get_eval_info .<br />
<br />
&nbsp;&nbsp;TYPES:&nbsp;BEGIN&nbsp;OF&nbsp;ty_join,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zpernr&nbsp;&nbsp;&nbsp;TYPE&nbsp;zedt07_102-zpernr,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zdepcode&nbsp;TYPE&nbsp;zedt07_102-zdepcode,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zdeprank&nbsp;TYPE&nbsp;zedt07_102-zdeprank,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zedate&nbsp;&nbsp;&nbsp;TYPE&nbsp;zedt07_102-zedate,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zqdate&nbsp;&nbsp;&nbsp;TYPE&nbsp;zedt07_102-zqdate,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zqflag&nbsp;&nbsp;&nbsp;TYPE&nbsp;zedt07_102-zqflag,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zpname&nbsp;&nbsp;&nbsp;TYPE&nbsp;zedt07_103-zpname,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zsalary&nbsp;&nbsp;TYPE&nbsp;zedt07_106-zsalary,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zrank&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;zedt07_104-zrank,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;ty_join.<br />
<br />
&nbsp;&nbsp;DATA:&nbsp;lt_join&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;STANDARD&nbsp;TABLE&nbsp;OF&nbsp;ty_join,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_join&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;ty_join,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;zedt07_105,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_mon_amt&nbsp;TYPE&nbsp;p&nbsp;DECIMALS&nbsp;2,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_month&nbsp;&nbsp;&nbsp;TYPE&nbsp;char02.<br />
<br />
&nbsp;&nbsp;CLEAR&nbsp;gt_eval.<br />
&nbsp;&nbsp;lv_month&nbsp;=&nbsp;p_month.<br />
<br />
&nbsp;&nbsp;"----------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;1)&nbsp;####&nbsp;+&nbsp;##&nbsp;+&nbsp;###&nbsp;+&nbsp;####&nbsp;JOIN<br />
&nbsp;&nbsp;"----------------------------------------------------------<br />
&nbsp;&nbsp;SELECT<br />
&nbsp;&nbsp;&nbsp;&nbsp;a~zpernr,<br />
&nbsp;&nbsp;&nbsp;&nbsp;a~zdepcode,<br />
&nbsp;&nbsp;&nbsp;&nbsp;a~zdeprank,<br />
&nbsp;&nbsp;&nbsp;&nbsp;a~zedate,<br />
&nbsp;&nbsp;&nbsp;&nbsp;a~zqdate,<br />
&nbsp;&nbsp;&nbsp;&nbsp;a~zqflag,<br />
&nbsp;&nbsp;&nbsp;&nbsp;b~zpname,<br />
&nbsp;&nbsp;&nbsp;&nbsp;c~zsalary,<br />
&nbsp;&nbsp;&nbsp;&nbsp;d~zrank<br />
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;zedt07_102&nbsp;AS&nbsp;a<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INNER&nbsp;JOIN&nbsp;zedt07_103&nbsp;AS&nbsp;b<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;a~zpernr&nbsp;=&nbsp;b~zpernr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;JOIN&nbsp;zedt07_106&nbsp;AS&nbsp;c<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;a~zpernr&nbsp;=&nbsp;c~zpernr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT&nbsp;JOIN&nbsp;zedt07_104&nbsp;AS&nbsp;d<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;a~zpernr&nbsp;=&nbsp;d~zpernr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;d~zyear&nbsp;=&nbsp;@p_year<br />
&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;TABLE&nbsp;@lt_join<br />
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;a~zpernr&nbsp;&nbsp;&nbsp;IN&nbsp;@s_pernr<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;a~zdepcode&nbsp;IN&nbsp;@s_dept.<br />
<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;lt_join&nbsp;INTO&nbsp;ls_join.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;###&nbsp;##&nbsp;#&nbsp;###&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;p_ch1&nbsp;=&nbsp;c_check&nbsp;AND&nbsp;ls_join-zqflag&nbsp;=&nbsp;c_quit.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CONTINUE.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"----------------------------------------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;2)&nbsp;###&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;"----------------------------------------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR&nbsp;ls_mon.<br />
<br />
SELECT SINGLE<br />
&nbsp;&nbsp;&nbsp;&nbsp;zmon01,<br />
&nbsp;&nbsp;&nbsp;&nbsp;zmon02,<br />
&nbsp;&nbsp;&nbsp;&nbsp;zmon03,<br />
&nbsp;&nbsp;&nbsp;&nbsp;zmon04,<br />
&nbsp;&nbsp;&nbsp;&nbsp;zmon05,<br />
&nbsp;&nbsp;&nbsp;&nbsp;zmon06,<br />
&nbsp;&nbsp;&nbsp;&nbsp;zmon07,<br />
&nbsp;&nbsp;&nbsp;&nbsp;zmon08,<br />
&nbsp;&nbsp;&nbsp;&nbsp;zmon09,<br />
&nbsp;&nbsp;&nbsp;&nbsp;zmon10,<br />
&nbsp;&nbsp;&nbsp;&nbsp;zmon11,<br />
&nbsp;&nbsp;&nbsp;&nbsp;zmon12<br />
&nbsp;&nbsp;FROM&nbsp;zedt07_105<br />
&nbsp;&nbsp;WHERE&nbsp;zpernr&nbsp;=&nbsp;@ls_join-zpernr<br />
&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;zyear&nbsp;&nbsp;=&nbsp;@p_year<br />
&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;@ls_mon.<br />
<br />
IF sy-subrc &lt;&gt; 0.<br />
&nbsp;&nbsp;CONTINUE.<br />
ENDIF.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;#&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;lv_month.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'01'.&nbsp;lv_mon_amt&nbsp;=&nbsp;ls_mon-zmon01.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'02'.&nbsp;lv_mon_amt&nbsp;=&nbsp;ls_mon-zmon02.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'03'.&nbsp;lv_mon_amt&nbsp;=&nbsp;ls_mon-zmon03.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'04'.&nbsp;lv_mon_amt&nbsp;=&nbsp;ls_mon-zmon04.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'05'.&nbsp;lv_mon_amt&nbsp;=&nbsp;ls_mon-zmon05.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'06'.&nbsp;lv_mon_amt&nbsp;=&nbsp;ls_mon-zmon06.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'07'.&nbsp;lv_mon_amt&nbsp;=&nbsp;ls_mon-zmon07.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'08'.&nbsp;lv_mon_amt&nbsp;=&nbsp;ls_mon-zmon08.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'09'.&nbsp;lv_mon_amt&nbsp;=&nbsp;ls_mon-zmon09.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'10'.&nbsp;lv_mon_amt&nbsp;=&nbsp;ls_mon-zmon10.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'11'.&nbsp;lv_mon_amt&nbsp;=&nbsp;ls_mon-zmon11.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'12'.&nbsp;lv_mon_amt&nbsp;=&nbsp;ls_mon-zmon12.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;OTHERS.&nbsp;lv_mon_amt&nbsp;=&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDCASE.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;0&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;lv_mon_amt&nbsp;=&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CONTINUE.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"----------------------------------------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;3)&nbsp;##&nbsp;##&nbsp;###<br />
&nbsp;&nbsp;&nbsp;&nbsp;"----------------------------------------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR&nbsp;gs_eval.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zpernr&nbsp;&nbsp;&nbsp;=&nbsp;ls_join-zpernr.<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zpname&nbsp;&nbsp;&nbsp;=&nbsp;ls_join-zpname.<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zdepcode&nbsp;=&nbsp;ls_join-zdepcode.<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zdeprank&nbsp;=&nbsp;ls_join-zdeprank.<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zrank&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;ls_join-zrank.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;###&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;gs_eval-zdeprank.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'A'.&nbsp;gs_eval-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'B'.&nbsp;gs_eval-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'C'.&nbsp;gs_eval-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'D'.&nbsp;gs_eval-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'E'.&nbsp;gs_eval-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'F'.&nbsp;gs_eval-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'G'.&nbsp;gs_eval-zrankname&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;OTHERS.&nbsp;gs_eval-zrankname&nbsp;=&nbsp;''.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDCASE.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;###&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;gs_eval-zdepcode.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0001'.&nbsp;gs_eval-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0002'.&nbsp;gs_eval-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0003'.&nbsp;gs_eval-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0004'.&nbsp;gs_eval-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0005'.&nbsp;gs_eval-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'SS0006'.&nbsp;gs_eval-zdepname&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;OTHERS.&nbsp;&nbsp;&nbsp;gs_eval-zdepname&nbsp;=&nbsp;''.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDCASE.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##/##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zqflag&nbsp;=&nbsp;ls_join-zqflag.<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;ls_join-zqflag&nbsp;=&nbsp;c_quit.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zqflag_t&nbsp;=&nbsp;c_quit_t.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ELSE.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zqflag_t&nbsp;=&nbsp;c_active.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;#&nbsp;##&nbsp;*&nbsp;100&nbsp;(##&nbsp;##&nbsp;##)<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zsalary&nbsp;=&nbsp;lv_mon_amt&nbsp;*&nbsp;100.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zmon01&nbsp;=&nbsp;ls_mon-zmon01.<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zmon02&nbsp;=&nbsp;ls_mon-zmon02.<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zmon03&nbsp;=&nbsp;ls_mon-zmon03.<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zmon04&nbsp;=&nbsp;ls_mon-zmon04.<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zmon05&nbsp;=&nbsp;ls_mon-zmon05.<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zmon06&nbsp;=&nbsp;ls_mon-zmon06.<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zmon07&nbsp;=&nbsp;ls_mon-zmon07.<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zmon08&nbsp;=&nbsp;ls_mon-zmon08.<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zmon09&nbsp;=&nbsp;ls_mon-zmon09.<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zmon10&nbsp;=&nbsp;ls_mon-zmon10.<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zmon11&nbsp;=&nbsp;ls_mon-zmon11.<br />
&nbsp;&nbsp;&nbsp;&nbsp;gs_eval-zmon12&nbsp;=&nbsp;ls_mon-zmon12.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;APPEND&nbsp;gs_eval&nbsp;TO&nbsp;gt_eval.<br />
<br />
&nbsp;&nbsp;ENDLOOP.<br />
<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;DISPLAY_EVAL<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM display_eval .<br />
<br />
&nbsp;&nbsp;CLEAR&nbsp;gt_fcat.<br />
<br />
"===========================<br />
" ## KEY ##<br />
"===========================<br />
CLEAR gs_fcat.<br />
gs_fcat-fieldname = 'ZPERNR'.<br />
gs_fcat-seltext_m = '####'.<br />
gs_fcat-outputlen = 10.<br />
gs_fcat-key = 'X'.<br />
APPEND gs_fcat TO gt_fcat.<br />
<br />
CLEAR gs_fcat.<br />
gs_fcat-fieldname = 'ZPNAME'.<br />
gs_fcat-seltext_m = '####'.<br />
gs_fcat-outputlen = 10.<br />
gs_fcat-key = 'X'.<br />
APPEND gs_fcat TO gt_fcat.<br />
<br />
"===========================<br />
" ## / ##<br />
"===========================<br />
PERFORM add_fcat USING 'ZDEPNAME'  '###'    '10'.<br />
PERFORM add_fcat USING 'ZRANKNAME' '###'    '10'.<br />
<br />
"===========================<br />
" ## ##<br />
"===========================<br />
PERFORM add_fcat USING 'ZQFLAG_T' '####' '10'.<br />
<br />
"===========================<br />
" ####<br />
"===========================<br />
PERFORM add_fcat USING 'ZRANK' '####' '10'.<br />
<br />
"===========================<br />
" ##(#)  SUM ##<br />
"===========================<br />
CLEAR gs_fcat.<br />
gs_fcat-fieldname    = 'ZSALARY'.<br />
gs_fcat-seltext_m    = '##(#)'.<br />
gs_fcat-outputlen    = 20.<br />
gs_fcat-decimals_out = 0.<br />
gs_fcat-do_sum       = 'X'.<br />
APPEND gs_fcat TO gt_fcat.<br />
<br />
"===========================<br />
" ## # ### ## (ZMON01~ZMON12)<br />
"===========================<br />
DATA: lv_field TYPE char30,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_text&nbsp;&nbsp;TYPE&nbsp;char50.<br />
<br />
lv_field = |ZMON{ p_month }|.<br />
&nbsp;&nbsp;lv_text&nbsp;&nbsp;=&nbsp;|{&nbsp;p_month&nbsp;}#&nbsp;###|.<br />
<br />
CLEAR gs_fcat.<br />
gs_fcat-fieldname    = lv_field.<br />
gs_fcat-seltext_m    = lv_text.<br />
gs_fcat-outputlen    = 20.<br />
gs_fcat-decimals_out = 0.<br />
gs_fcat-do_sum       = 'X'.<br />
APPEND gs_fcat TO gt_fcat.<br />
<br />
"===========================<br />
" ALV ####<br />
"===========================<br />
CLEAR gs_layout.<br />
gs_layout-colwidth_optimize = 'X'.<br />
gs_layout-zebra             = 'X'.<br />
gs_layout-totals_text       = '##'.<br />
<br />
"===========================<br />
" ALV ##<br />
"===========================<br />
CALL FUNCTION 'REUSE_ALV_GRID_DISPLAY'<br />
&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;i_callback_program&nbsp;=&nbsp;sy-repid<br />
&nbsp;&nbsp;&nbsp;&nbsp;is_layout&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;gs_layout<br />
&nbsp;&nbsp;&nbsp;&nbsp;it_fieldcat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;gt_fcat<br />
&nbsp;&nbsp;&nbsp;&nbsp;it_sort&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;gt_sort<br />
&nbsp;&nbsp;TABLES<br />
&nbsp;&nbsp;&nbsp;&nbsp;t_outtab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;gt_eval<br />
&nbsp;&nbsp;EXCEPTIONS<br />
&nbsp;&nbsp;&nbsp;&nbsp;program_error&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;1<br />
&nbsp;&nbsp;&nbsp;&nbsp;others&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;2.<br />
<br />
ENDFORM.<br />
<br />
<br />
   </div>
   <div class="codeComment">
*Messages<br />
*----------------------------------------------------------<br />
*<br />
*&nbsp;Message&nbsp;class:&nbsp;Hard&nbsp;coded<br />
*&nbsp;&nbsp;&nbsp;#####&nbsp;######<br />
            </div>
          </td>
        </tr>
      </table>
      </td>
      </tr>
   <tr>
<td class="footer">Extracted by Mass Download version 1.5.5 - E.G.Mellodew. 1998-2025. Sap Release 750</td>
   </tr>
</table>
</body>
</html>
