
*&---------------------------------------------------------------------*

*& Report ZEDR19_035

*&---------------------------------------------------------------------*

*&

*&---------------------------------------------------------------------*




REPORT ZEDR19_035.






*DATA : BEGIN OF GS_STUDENT.

*  INCLUDE TYPE ZEDT19_0001.

*DATA : END OF GS_STUDENT.

*DATA : GT_STUDENT LIKE TABLE OF GS_STUDENT.

*

*PERFORM GET_DATA.

*

*FORM GET_DATA .

*  WRITE :/ 'PERFORM TEST'.

*ENDFORM.



*DATA : GV_ZCODE LIKE ZEDT19_0001-ZCODE.

*DATA : GV_ZKNAME LIKE ZEDT19_0001-ZKNAME.

*

*GV_ZCODE = 'SSU-01'.

*

*PERFORM GET_DATA USING GV_ZCODE GV_ZKNAME. "ACTUAL Parameter (#### ##)

*

*WRITE :/ GV_ZCODE.

*WRITE :/ GV_ZKNAME.

*

*FORM GET_DATA USING P_ZCODE P_ZKNAME. "Formal Parameter (## ##)

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*  INTO P_ZKNAME

*  WHERE ZCODE = P_ZCODE.

*ENDFORM. "ENDFORM## ## # # ##



* "using#

*GV_ZCODE = 'SSU-02'.

*

*PERFORM GET_DATA USING GV_ZCODE GV_ZKNAME. "ACTUAL Parameter (#### ##)

*

*WRITE :/ GV_ZCODE.

*WRITE :/ GV_ZKNAME.

*

*FORM GET_DATA USING P_ZCODE P_ZKNAME. "P## GV# ###

*

*  DATA : LV_ZCODE LIKE ZEDT19_0001-ZCODE. "Subroutine # ####, endform ### ##

*  LV_ZCODE = 'SSU-01'. "##### zcode# ##

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*  INTO P_ZKNAME

*  WHERE ZCODE = LV_ZCODE.

*

*  P_ZCODE = LV_ZCODE.

*ENDFORM. "ENDFORM## ## # # ##



* "using value# P_ZCODE = SSU-01# #### GV_ZCODE# ##

* "### ZCODE# #### ###? (#### ####)

*GV_ZCODE = 'SSU-02'.

*

*PERFORM GET_DATA USING GV_ZCODE GV_ZKNAME. "ACTUAL Parameter (#### ##)

*

*WRITE :/ GV_ZCODE.

*WRITE :/ GV_ZKNAME.

*

*FORM GET_DATA USING VALUE(P_ZCODE) P_ZKNAME. "P## GV# ###

*

*  DATA : LV_ZCODE LIKE ZEDT19_0001-ZCODE. "Subroutine # ####, endform ### ##

*  LV_ZCODE = 'SSU-01'. "##### zcode# ##

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*  INTO P_ZKNAME

*  WHERE ZCODE = LV_ZCODE.

*

*  P_ZCODE = LV_ZCODE.

*ENDFORM. "ENDFORM## ## # # ##



*using value# P_ZCODE -> GV_ZCODE# #### ##, but p_zkname# ##

*GV_ZCODE = 'SSU-02'.

*

*PERFORM GET_DATA USING GV_ZCODE GV_ZKNAME. "ACTUAL Parameter (#### ##)

*

*WRITE :/ GV_ZCODE.

*WRITE :/ GV_ZKNAME.

*

*FORM GET_DATA USING VALUE(P_ZCODE) P_ZKNAME. "P## GV# ###

*

*  DATA : LV_ZCODE LIKE ZEDT19_0001-ZCODE. "Subroutine # ####, endform ### ##

*  LV_ZCODE = 'SSU-01'. "##### zcode# ##

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*  INTO P_ZKNAME

*  WHERE ZCODE = LV_ZCODE.

*

*  P_ZCODE = LV_ZCODE.

*ENDFORM. "ENDFORM## ## # # ##



*changing

*FORM #### VALUE# #### ### USING# CHANGING# ### ###,

*### #### ##/##### ## ##### #### ## #### ##

*GV_ZCODE = 'SSU-01'.

*

*PERFORM GET_DATA USING GV_ZCODE

*                 CHANGING GV_ZKNAME. "#### #### ##

*WRITE :/ GV_ZCODE.

*WRITE :/ GV_ZKNAME.

*

*FORM GET_DATA USING P_ZCODE

*              CHANGING P_ZKNAME.

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*  INTO P_ZKNAME

*  WHERE ZCODE = P_ZCODE.

*

*ENDFORM. "ENDFORM## ## # # ##



*changing value

*GV_ZCODE = 'SSU-01'.

*

*PERFORM GET_DATA USING GV_ZCODE

*                 CHANGING GV_ZKNAME. "#### #### ##

*WRITE :/ GV_ZCODE.

*WRITE :/ GV_ZKNAME. "TEST# #### ###

*

*FORM GET_DATA USING P_ZCODE

*              CHANGING VALUE(P_ZKNAME).

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*    INTO P_ZKNAME

*    WHERE ZCODE = P_ZCODE.

*

*  P_ZKNAME = 'TEST'.

*

*ENDFORM. "ENDFORM## ## # # ##



*GV_ZCODE = 'SSU-01'.

*

*PERFORM GET_DATA USING GV_ZCODE

*                 CHANGING GV_ZKNAME. "#### #### ##

*

*WRITE :/ GV_ZCODE.

*WRITE :/ GV_ZKNAME.

*

*FORM GET_DATA USING P_ZCODE TYPE C "Actual Parameter# ## ## ##

*              CHANGING P_ZKNAME TYPE C.

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*    INTO P_ZKNAME

*    WHERE ZCODE = P_ZCODE.

*

*ENDFORM. "ENDFORM## ## # # ##



*GV_ZCODE = 'SSU-01'.

*

*PERFORM GET_DATA USING GV_ZCODE

*                 CHANGING GV_ZKNAME. "#### #### ##

*

*WRITE :/ GV_ZCODE.

*WRITE :/ GV_ZKNAME.

*

*FORM GET_DATA USING P_ZCODE LIKE ZEDT19_0001-ZCODE "Actual ##### ## ## ##

*              CHANGING P_ZKNAME LIKE ZEDT19_0001-ZKNAME.

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*    INTO P_ZKNAME

*    WHERE ZCODE = P_ZCODE.

*

*ENDFORM. "ENDFORM## ## # # ##



*GS_STUDENT-ZCODE = 'SSU-01'.

*

*PERFORM GET_DATA USING GS_STUDENT.

*

*WRITE :/ GS_STUDENT-ZCODE.

*WRITE :/ GS_STUDENT-ZKNAME.

*

*FORM GET_DATA USING PS_STUDENT STRUCTURE GS_STUDENT. "### ## ### ## ##

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*    INTO PS_STUDENT-ZKNAME

*    WHERE ZCODE = PS_STUDENT-ZCODE.

*

*ENDFORM. "ENDFORM## ## # # ##



*GS_STUDENT-ZCODE = 'SSU-01'.

*

*PERFORM GET_DATA USING GS_STUDENT

*                       GT_STUDENT.

*

*LOOP AT GT_STUDENT INTO GS_STUDENT.

*  WRITE :/ GS_STUDENT-ZCODE, GS_STUDENT-ZKNAME.

*ENDLOOP.

*

*FORM GET_DATA USING PS_STUDENT STRUCTURE GS_STUDENT

*                    PT_STUDENT LIKE GT_STUDENT. "### ## ### ## ##

*

*  PS_STUDENT-ZCODE = 'SSU-01'.

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*  INTO PS_STUDENT-ZKNAME

*  WHERE ZCODE = PS_STUDENT-ZCODE.

*  APPEND PS_STUDENT TO PT_STUDENT.

*

*  PS_STUDENT-ZCODE = 'SSU-02'.

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*  INTO PS_STUDENT-ZKNAME

*  WHERE ZCODE = PS_STUDENT-ZCODE.

*  APPEND PS_STUDENT TO PT_STUDENT.

*ENDFORM. "ENDFORM## ## # # ##



*GS_STUDENT-ZCODE = 'SSU-01'.

*

*PERFORM GET_DATA USING GT_STUDENT.

*

*LOOP AT GT_STUDENT INTO GS_STUDENT.

*  WRITE :/ GS_STUDENT-ZCODE, GS_STUDENT-ZKNAME.

*ENDLOOP.

*

*FORM GET_DATA USING PT_STUDENT TYPE STANDARD TABLE.

*

*  DATA : LS_STUDENT LIKE GS_STUDENT.

*

*  LS_STUDENT-ZCODE = 'SSU-01'.

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*  INTO LS_STUDENT-ZKNAME

*  WHERE ZCODE = LS_STUDENT-ZCODE.

*  APPEND LS_STUDENT TO PT_STUDENT.

*

*  LS_STUDENT-ZCODE = 'SSU-02'.

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*  INTO LS_STUDENT-ZKNAME

*  WHERE ZCODE = LS_STUDENT-ZCODE.

*  APPEND LS_STUDENT TO PT_STUDENT.

*ENDFORM. "ENDFORM## ## # # ##



*PERFORM GET_DATA CHANGING GT_STUDENT.

*

*LOOP AT GT_STUDENT INTO GS_STUDENT.

*  WRITE :/ GS_STUDENT-ZCODE, GS_STUDENT-ZKNAME.

*ENDLOOP.

*

*FORM GET_DATA CHANGING PT_STUDENT LIKE GT_STUDENT.

*

*  DATA : LS_STUDENT LIKE GS_STUDENT.

*

*  LS_STUDENT-ZCODE = 'SSU-01'.

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*  INTO LS_STUDENT-ZKNAME

*  WHERE ZCODE = LS_STUDENT-ZCODE.

*  APPEND LS_STUDENT TO PT_STUDENT.

*

*  LS_STUDENT-ZCODE = 'SSU-02'.

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*  INTO LS_STUDENT-ZKNAME

*  WHERE ZCODE = LS_STUDENT-ZCODE.

*  APPEND LS_STUDENT TO PT_STUDENT.

*ENDFORM. "ENDFORM## ## # # ##



*GS_STUDENT-ZCODE = 'SSU-01'.

*

*PERFORM GET_DATA(ZED19_014) IF FOUND CHANGING GT_STUDENT.

* "## ###### PERFORM# #### ### #### PERFORM ### ##

* "GV### ### #### #### ###### ### ### ## ##### #

*LOOP AT GT_STUDENT INTO GS_STUDENT.

*  WRITE :/ GS_STUDENT-ZCODE, GS_STUDENT-ZKNAME.

*ENDLOOP.

*

*FORM GET_DATA CHANGING PT_STUDENT LIKE GT_STUDENT.

*

*  DATA : LS_STUDENT LIKE GS_STUDENT.

*

*  LS_STUDENT-ZCODE = 'SSU-01'.

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*  INTO LS_STUDENT-ZKNAME

*  WHERE ZCODE = LS_STUDENT-ZCODE.

*  APPEND LS_STUDENT TO PT_STUDENT.

*

*  LS_STUDENT-ZCODE = 'SSU-02'.

*

*  SELECT SINGLE ZKNAME FROM ZEDT19_0001

*  INTO LS_STUDENT-ZKNAME

*  WHERE ZCODE = LS_STUDENT-ZCODE.

*  APPEND LS_STUDENT TO PT_STUDENT.

*ENDFORM. "ENDFORM## ## # # ##



*TRANSLATE GV_PNAME TO UPPER CASE.

*TRANSLATE GV_PNAME TO UPPER CASE.

*

*PERFORM (GV_FORMNAME) IN PROGRAM (GV_PNAME) IF FOUND CHANGING GT_STUDENT.

*

*LOOP AT GT_STUDENT INTO GS_STUDENT.

*  WRITE :/ GS_STUDENT-ZCODE, GS_STUDENT-ZKNAME.

*ENDLOOP.

*

*DO 2 TIMES.

*  PERFORM SY-INDEX OF SUBR1 SUBR2.

*ENDDO.

*FORM SUBR1.

*  WRITE :/ SY-INDEX, '## ####'.

*ENDFORM.

*FORM SUBR2.

*  WRITE :/ SY-INDEX, '## ####'.

*ENDFORM.

* "## ### #### index ### ## subroutine list ##






DATA : BEGIN OF GS_STUDENT.

  include structure
ZEDT19_0001
.

DATA : END OF GS_STUDENT.

DATA : GT_STUDENT LIKE TABLE OF GS_STUDENT.

DATA : GV_FLAG.



"SELECT DATA

SELECT SINGLE * FROM ZEDT19_0001

  INTO GS_STUDENT WHERE ZCODE = 'SSU-01'.



PERFORM DELETE_DATA USING GS_STUDENT. "delete data perform ##

PERFORM INSERT_DATA ON COMMIT. "perform skip



IF GV_FLAG = 'X'.

  COMMIT WORK.

ENDIF.



FORM DELETE_DATA USING PS_STUDENT LIKE GS_STUDENT.

  DELETE ZEDT19_0001 FROM PS_STUDENT. "### ##

  IF SY-SUBRC = 0.

    GV_FLAG = 'X'.

  ENDIF.

ENDFORM.

FORM INSERT_DATA.

  INSERT ZEDT19_0001 FROM GS_STUDENT. "### ##

ENDFORM.