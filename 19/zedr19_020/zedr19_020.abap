
*&---------------------------------------------------------------------*

*& Report ZEDR19_020

*&---------------------------------------------------------------------*

*&

*&---------------------------------------------------------------------*




REPORT ZEDR19_020.






*DATA : BEGIN OF GS_STUDENT,

*  ZCODE TYPE C LENGTH 10,

*  ZKNAME TYPE C LENGTH 10,

*  ZENAME TYPE C LENGTH 10,

*  ZTEL TYPE C LENGTH 16,

*  ZGUBUN TYPE C LENGTH 1,

*  ZPERNR TYPE C LENGTH 10,

*END OF GS_STUDENT.

*

*DATA GT_STUDENT LIKE TABLE OF GS_STUDENT.

*

*CLEAR : GS_STUDENT.

*

*GS_STUDENT-ZPERNR = '0000000001'.

*GS_STUDENT-ZCODE = 'SSU-01'.

*GS_STUDENT-ZKNAME = '###'.

*GS_STUDENT-ZENAME = 'DONG'.

*GS_STUDENT-ZGUBUN = 'M'.

*GS_STUDENT-ZTEL = '01011112222'.

*APPEND GS_STUDENT TO GT_STUDENT.

*

*CLEAR : GS_STUDENT.

*GS_STUDENT-ZPERNR = '0000000002'.

*GS_STUDENT-ZCODE = 'SSU-02'.

*GS_STUDENT-ZKNAME = '###'.

*GS_STUDENT-ZENAME = 'HOON'.

*GS_STUDENT-ZGUBUN = 'M'.

*GS_STUDENT-ZTEL = '01022223333'.

*APPEND GS_STUDENT TO GT_STUDENT.

*

*CLEAR : GS_STUDENT.

*GS_STUDENT-ZPERNR = '0000000003'.

*GS_STUDENT-ZCODE = 'SSU-03'.

*GS_STUDENT-ZKNAME = '###'.

*GS_STUDENT-ZENAME = 'SON'.

*GS_STUDENT-ZGUBUN = 'F'.

*GS_STUDENT-ZTEL = '01033334444'.

*APPEND GS_STUDENT TO GT_STUDENT.

*

*LOOP AT GT_STUDENT INTO GS_STUDENT.

*ENDLOOP.



*LOOP AT GT_STUDENT INTO GS_STUDENT.

*  IF GS_STUDENT-ZGUBUN = 'M'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSEIF GS_STUDENT-ZGUBUN = 'F'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSE.

*    GS_STUDENT-ZGNAME = '##'.

*  ENDIF.

*  CLEAR : GS_STUDENT.

*ENDLOOP.



*LOOP AT GT_STUDENT INTO GS_STUDENT WHERE ZGUBUN = 'F'.

*  IF GS_STUDENT-ZGUBUN = 'M'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSEIF GS_STUDENT-ZGUBUN = 'F'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSE.

*    GS_STUDENT-ZGNAME = '##'.

*  ENDIF.

*  CLEAR : GS_STUDENT.

*  ENDLOOP.



*DATA : BEGIN OF GS_STUDENT,

*  ZPERNR LIKE ZEDT19_001-ZPERNR19, "####

*  ZCODE LIKE ZEDT19_001-ZCODE19, "####

*  ZKNAME LIKE ZEDT19_001-ZKNAME19, "##

*  ZENAME LIKE ZEDT19_001-ZENAME19, "###

*  ZGUBUN LIKE ZEDT19_001-ZGUBUN19, "##

*  ZGNAME TYPE C LENGTH 4, "####

*  ZTEL LIKE ZEDT19_001-ZTEL19, "####

*END OF GS_STUDENT.

*

*DATA GT_STUDENT LIKE TABLE OF GS_STUDENT.

*

*CLEAR : GS_STUDENT, GT_STUDENT.

*

*GS_STUDENT-ZPERNR = '0000000001'.

*GS_STUDENT-ZCODE = 'SSU-01'.

*GS_STUDENT-ZKNAME = '###'.

*GS_STUDENT-ZENAME = 'DONG'.

*GS_STUDENT-ZGUBUN = 'M'.

*GS_STUDENT-ZTEL = '01011112222'.

*APPEND GS_STUDENT TO GT_STUDENT.

*

*GS_STUDENT-ZGUBUN = 'M'.

*APPEND GS_STUDENT TO GT_STUDENT.



*DATA : BEGIN OF GS_STUDENT,

*  ZPERNR LIKE ZEDT19_001-ZPERNR19, "####

*  ZCODE LIKE ZEDT19_001-ZCODE19, "####

*  ZKNAME LIKE ZEDT19_001-ZKNAME19, "##

*  ZENAME LIKE ZEDT19_001-ZENAME19, "###

*  ZGUBUN LIKE ZEDT19_001-ZGUBUN19, "##

*  ZGNAME TYPE C LENGTH 4, "####

*  ZTEL LIKE ZEDT19_001-ZTEL19, "####

*END OF GS_STUDENT.

*

*DATA GT_STUDENT LIKE TABLE OF GS_STUDENT WITH NON-UNIQUE KEY ZCODE.

*

*CLEAR : GS_STUDENT, GT_STUDENT.

*

*GS_STUDENT-ZPERNR = '0000000001'.

*GS_STUDENT-ZCODE = 'SSU-01'.

*GS_STUDENT-ZKNAME = '###'.

*GS_STUDENT-ZENAME = 'DONG'.

*GS_STUDENT-ZGUBUN = 'M'.

*GS_STUDENT-ZTEL = '01011112222'.

*APPEND GS_STUDENT TO GT_STUDENT.

*

*GS_STUDENT-ZENAME = 'KANG'.

*GS_STUDENT-ZGUBUN = 'M'.

*MODIFY TABLE GT_STUDENT FROM GS_STUDENT.



*DATA : BEGIN OF GS_STUDENT,

*  ZPERNR LIKE ZEDT19_001-ZPERNR19, "####

*  ZCODE LIKE ZEDT19_001-ZCODE19, "####

*  ZKNAME LIKE ZEDT19_001-ZKNAME19, "##

*  ZENAME LIKE ZEDT19_001-ZENAME19, "###

*  ZGUBUN LIKE ZEDT19_001-ZGUBUN19, "##

*  ZGNAME TYPE C LENGTH 4, "####

*  ZTEL LIKE ZEDT19_001-ZTEL19, "####

*END OF GS_STUDENT.

*

*DATA GT_STUDENT LIKE TABLE OF GS_STUDENT WITH NON-UNIQUE KEY ZCODE.

*

*CLEAR : GS_STUDENT, GT_STUDENT.

*

*GS_STUDENT-ZPERNR = '0000000001'.

*GS_STUDENT-ZCODE = 'SSU-01'.

*GS_STUDENT-ZKNAME = '###'.

*GS_STUDENT-ZENAME = 'DONG'.

*GS_STUDENT-ZGUBUN = 'M'.

*GS_STUDENT-ZTEL = '01011112222'.

*APPEND GS_STUDENT TO GT_STUDENT.

*

*GS_STUDENT-ZENAME = 'KANG'.

*GS_STUDENT-ZGUBUN = 'M'.

*MODIFY TABLE GT_STUDENT FROM GS_STUDENT TRANSPORTING ZGUBUN.



*LOOP AT GT_STUDENT INTO GS_STUDENT.

*  IF GS_STUDENT-ZGUBUN = 'M'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSEIF GS_STUDENT-ZGUBUN = 'F'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSE.

*    GS_STUDENT-ZGNAME = '##'.

*  ENDIF.

*

*MODIFY GT_STUDENT FROM GS_STUDENT TRANSPORTING ZGNAME

*WHERE ZCODE = GS_STUDENT-ZCODE.

*

*CLEAR GS_STUDENT.

*ENDLOOP.



*LOOP AT GT_STUDENT INTO GS_STUDENT.

*  IF GS_STUDENT-ZGUBUN = 'M'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSEIF GS_STUDENT-ZGUBUN = 'F'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSE.

*    GS_STUDENT-ZGNAME = '##'.

*  ENDIF.

*

*MODIFY GT_STUDENT FROM GS_STUDENT INDEX SY-TABIX.

*

*CLEAR GS_STUDENT.

*

*ENDLOOP.



*LOOP AT GT_STUDENT INTO GS_STUDENT.

*  IF GS_STUDENT-ZGUBUN19 NE 'M'.

*    DELETE TABLE GT_STUDENT FROM GS_STUDENT.

*

*    IF SY-SUBRC = 0.

*    ELSE.

*      WRITE :/ '####'.

*    ENDIF.

*  ELSE.

*    WRITE :/ GS_STUDENT-ZCODE19, GS_STUDENT-ZKNAME19, GS_STUDENT-ZGUBUN19.

*  ENDIF.

*ENDLOOP.



*DATA : GS_STUDENT TYPE ZEDT19_001.

*DATA : GT_STUDENT LIKE TABLE OF GS_STUDENT WITH NON-UNIQUE KEY ZGUBUN19.

*

*CLEAR : GS_STUDENT, GT_STUDENT.

*

*GS_STUDENT-ZPERNR19 = '0000000001'.

*GS_STUDENT-ZCODE19 = 'SSU-01'.

*GS_STUDENT-ZKNAME19 = '###'.

*GS_STUDENT-ZENAME19 = 'DONG'.

*GS_STUDENT-ZGUBUN19 = 'M'.

*GS_STUDENT-ZTEL19 = '01011112222'.

*APPEND GS_STUDENT TO GT_STUDENT.

*

*CLEAR : GS_STUDENT.

*GS_STUDENT-ZPERNR19 = '0000000002'.

*GS_STUDENT-ZCODE19 = 'SSU-02'.

*GS_STUDENT-ZKNAME19 = '###'.

*GS_STUDENT-ZENAME19 = 'HOON'.

*GS_STUDENT-ZGUBUN19 = 'M'.

*GS_STUDENT-ZTEL19 = '01022223333'.

*APPEND GS_STUDENT TO GT_STUDENT.

*

*CLEAR : GS_STUDENT.

*GS_STUDENT-ZPERNR19 = '0000000003'.

*GS_STUDENT-ZCODE19 = 'SSU-03'.

*GS_STUDENT-ZKNAME19 = '###'.

*GS_STUDENT-ZENAME19 = 'SON'.

*GS_STUDENT-ZGUBUN19 = 'F'.

*GS_STUDENT-ZTEL19 = '01033334444'.

*APPEND GS_STUDENT TO GT_STUDENT.

*

*DELETE TABLE GT_STUDENT WITH TABLE KEY ZGUBUN19 = 'F'.

*

*IF SY-SUBRC = 0. "## ##### ##

*  LOOP AT GT_STUDENT INTO GS_STUDENT.

*    WRITE :/ GS_STUDENT-ZCODE19, GS_STUDENT-ZKNAME19, GS_STUDENT-ZGUBUN19. "## ### ##

*  ENDLOOP.

*ENDIF.



*DELETE GT_STUDENT WHERE ZGUBUN19 = 'F'. " ### ### WHERE #### #### ##

*

*IF SY-SUBRC = 0. "## ##### ##

*  LOOP AT GT_STUDENT INTO GS_STUDENT.

*    WRITE :/ GS_STUDENT-ZCODE19, GS_STUDENT-ZKNAME19, GS_STUDENT-ZGUBUN19. "## ### ##

*  ENDLOOP.

*ENDIF.



*DELETE GT_STUDENT INDEX 2.

*

*IF SY-SUBRC = 0.

*  LOOP AT GT_STUDENT INTO GS_STUDENT.

*    WRITE :/ GS_STUDENT-ZCODE19, GS_STUDENT-ZKNAME19, GS_STUDENT-ZGUBUN19.

*  ENDLOOP.

*ENDIF.



*DELETE GT_STUDENT FROM 2 TO 3. "INDEX 2~3 ## ##

*

*IF SY-SUBRC = 0.

*  LOOP AT GT_STUDENT INTO GS_STUDENT.

*    WRITE :/ GS_STUDENT-ZCODE19, GS_STUDENT-ZKNAME19, GS_STUDENT-ZGUBUN19.

*  ENDLOOP.

*ENDIF.



*DELETE GT_STUDENT FROM 2. "INDEX 2 ## ## ## ##

*

*IF SY-SUBRC = 0.

*  LOOP AT GT_STUDENT INTO GS_STUDENT.

*    WRITE :/ GS_STUDENT-ZCODE19, GS_STUDENT-ZKNAME19, GS_STUDENT-ZGUBUN19.

*  ENDLOOP.

*ENDIF.



*DELETE GT_STUDENT TO 2. "INDEX 1~2 ## ##

*

*IF SY-SUBRC = 0.

*  LOOP AT GT_STUDENT INTO GS_STUDENT.

*    WRITE :/ GS_STUDENT-ZCODE19, GS_STUDENT-ZKNAME19, GS_STUDENT-ZGUBUN19.

*  ENDLOOP.

*ENDIF.



*DATA : GS_STUDENT TYPE ZEDT19_001.

*DATA : GT_STUDENT LIKE TABLE OF GS_STUDENT.

*

*CLEAR : GS_STUDENT, GT_STUDENT.

*

*GS_STUDENT-ZPERNR19 = '0000000001'.

*GS_STUDENT-ZCODE19 = 'SSU-01'.

*GS_STUDENT-ZKNAME19 = '###'.

*GS_STUDENT-ZENAME19 = 'DONG'.

*GS_STUDENT-ZGUBUN19 = 'M'.

*GS_STUDENT-ZTEL19 = '01011112222'.

*APPEND GS_STUDENT TO GT_STUDENT.

*

*CLEAR : GS_STUDENT.

*GS_STUDENT-ZPERNR19 = '0000000001'.

*GS_STUDENT-ZCODE19 = 'SSU-01'.

*GS_STUDENT-ZKNAME19 = '###'.

*GS_STUDENT-ZENAME19 = 'DONG'.

*GS_STUDENT-ZGUBUN19 = 'M'.

*GS_STUDENT-ZTEL19 = '01011112222'.

*APPEND GS_STUDENT TO GT_STUDENT.

*

*CLEAR : GS_STUDENT.

*GS_STUDENT-ZPERNR19 = '0000000002'.

*GS_STUDENT-ZCODE19 = 'SSU-02'.

*GS_STUDENT-ZKNAME19 = '###'.

*GS_STUDENT-ZENAME19 = 'HOON'.

*GS_STUDENT-ZGUBUN19 = 'M'.

*GS_STUDENT-ZTEL19 = '01022223333'.

*APPEND GS_STUDENT TO GT_STUDENT.

*

*SORT GT_STUDENT.

*

*DELETE ADJACENT DUPLICATES FROM GT_STUDENT.

*

*IF SY-SUBRC = 0.

*  LOOP AT GT_STUDENT INTO GS_STUDENT.

*    WRITE :/ GS_STUDENT-ZCODE19, GS_STUDENT-ZKNAME19, GS_STUDENT-ZGUBUN19.

*  ENDLOOP.

*ENDIF.






DATA : GS_STUDENT TYPE ZEDT19_001.

DATA : GT_STUDENT LIKE TABLE OF GS_STUDENT.



CLEAR : GS_STUDENT, GT_STUDENT.



GS_STUDENT-ZPERNR19 = '0000000001'.

GS_STUDENT-ZCODE19 = 'SSU-01'.

GS_STUDENT-ZKNAME19 = '###'.

GS_STUDENT-ZENAME19 = 'DONG'.

GS_STUDENT-ZGUBUN19 = 'M'.

GS_STUDENT-ZTEL19 = '01011112222'.

APPEND GS_STUDENT TO GT_STUDENT.



CLEAR : GS_STUDENT.

GS_STUDENT-ZPERNR19 = '0000000002'.

GS_STUDENT-ZCODE19 = 'SSU-01'.

GS_STUDENT-ZKNAME19 = '###'.

GS_STUDENT-ZENAME19 = 'DONG'.

GS_STUDENT-ZGUBUN19 = 'F'.

GS_STUDENT-ZTEL19 = '01011112222'.

APPEND GS_STUDENT TO GT_STUDENT.



CLEAR : GS_STUDENT.

GS_STUDENT-ZPERNR19 = '0000000002'.

GS_STUDENT-ZCODE19 = 'SSU-02'.

GS_STUDENT-ZKNAME19 = '###'.

GS_STUDENT-ZENAME19 = 'HOON'.

GS_STUDENT-ZGUBUN19 = 'M'.

GS_STUDENT-ZTEL19 = '01022223333'.

APPEND GS_STUDENT TO GT_STUDENT.



SORT GT_STUDENT.



DELETE ADJACENT DUPLICATES FROM GT_STUDENT COMPARING ZCODE19. "ZCODE19# ### ##



IF SY-SUBRC = 0.

  LOOP AT GT_STUDENT INTO GS_STUDENT.

    WRITE :/ GS_STUDENT-ZCODE19, GS_STUDENT-ZKNAME19, GS_STUDENT-ZGUBUN19.

  ENDLOOP.

ENDIF.