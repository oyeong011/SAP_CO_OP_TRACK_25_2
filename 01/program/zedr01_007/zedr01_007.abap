
*&---------------------------------------------------------------------*

*& Report ZEDR01_007

*&---------------------------------------------------------------------*

*&

*&---------------------------------------------------------------------*




REPORT ZEDR01_007.






*DATA : BEGIN OF GS_STUDENT,

*  ZPERNR LIKE ZEDT01_001-ZPERNR,

*  ZCODE LIKE ZEDT01_001-ZCODE,

*  ZKNAME LIKE ZEDT01_001-ZKNAME,

*  ZENAME LIKE ZEDT01_001-ZENAME,

*  ZGENDER LIKE ZEDT01_001-ZGENDER,

*  ZGNAME TYPE C LENGTH 4,

*  ZTEL LIKE ZEDT01_001-ZTEL,

*  END OF GS_STUDENT.

*

*DATA : GT_STUDENT LIKE TABLE OF GS_STUDENT.

*

*CLEAR : GS_STUDENT.

*

*GS_STUDENT-ZPERNR = '000000001'.

*GS_STUDENT-ZCODE = 'SSU-01'.

*GS_STUDENT-ZKNAME = '###'.

*GS_STUDENT-ZENAME = 'DONG'.

*GS_STUDENT-ZGENDER = 'M'.

*GS_STUDENT-ZTEL = '01011112222' .

*APPEND GS_STUDENT TO GT_STUDENT.

*

*CLEAR : GS_STUDENT.

*

*GS_STUDENT-ZPERNR = '000000002'.

*GS_STUDENT-ZCODE = 'SSU-02'.

*GS_STUDENT-ZKNAME = '###'.

*GS_STUDENT-ZENAME = 'HOON'.

*GS_STUDENT-ZGENDER = 'M'.

*GS_STUDENT-ZTEL = '01022223333' .

*APPEND GS_STUDENT TO GT_STUDENT.

*

*CLEAR : GS_STUDENT.

*

*GS_STUDENT-ZPERNR = '000000003'.

*GS_STUDENT-ZCODE = 'SSU-03'.

*GS_STUDENT-ZKNAME = '###'.

*GS_STUDENT-ZENAME = 'SON'.

*GS_STUDENT-ZGENDER = 'F'.

*GS_STUDENT-ZTEL = '01033334444' .

*APPEND GS_STUDENT TO GT_STUDENT.



*CLEAR : GS_STUDENT.

*LOOP AT GT_STUDENT INTO GS_STUDENT

*  IF GS_STUDENT-ZGENDER = 'M'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSEIF GS_STUDENT-ZGENDER = 'F'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSE.

*    GS_STUDENT-ZGNAME = '##'.

*  ENDIF.

*

*  CLEAR : GS_STUDENT.

*ENDLOOP.



*BREAK-POINT.

*CLEAR : GS_STUDENT.

*LOOP AT GT_STUDENT INTO GS_STUDENT WHERE ZGENDER ='F'.

*  IF GS_STUDENT-ZGENDER = 'M'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSEIF GS_STUDENT-ZGENDER = 'F'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSE.

*    GS_STUDENT-ZGNAME = '##'.

*  ENDIF.

*

*  CLEAR : GS_STUDENT.

*ENDLOOP.



*BREAK-POINT.

*CLEAR : GS_STUDENT.

*LOOP AT GT_STUDENT INTO GS_STUDENT.

*  IF GS_STUDENT-ZGENDER = 'F'.

*    GS_STUDENT-ZGNAME = '##'.

*  ENDIF.

*  CLEAR GS_STUDENT.

*ENDLOOP.



*BREAK-POINT.

*CLEAR : GS_STUDENT.

*LOOP AT GT_STUDENT INTO GS_STUDENT FROM 2 TO 3.

*  IF GS_STUDENT-ZGENDER = 'M'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSEIF GS_STUDENT-ZGENDER = 'F'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSE.

*    GS_STUDENT-ZGNAME = '##'.

*  ENDIF.

*

*  CLEAR : GS_STUDENT.

*ENDLOOP.



*DATA : BEGIN OF GS_STUDENT,

*  ZPERNR LIKE ZEDT01_001-ZPERNR,

*  ZCODE LIKE ZEDT01_001-ZCODE,

*  ZKNAME LIKE ZEDT01_001-ZKNAME,

*  ZENAME LIKE ZEDT01_001-ZENAME,

*  ZGENDER LIKE ZEDT01_001-ZGENDER,

*  ZGNAME TYPE C LENGTH 4,

*  ZTEL LIKE ZEDT01_001-ZTEL,

*  END OF GS_STUDENT.



*DATA : GT_STUDENT LIKE TABLE OF GS_STUDENT WITH NON-UNIQUE KEY ZCODE.

*DATA : GT_STUDENT LIKE TABLE OF GS_STUDENT WITH NON-UNIQUE KEY ZGENDER.




DATA : GS_STUDENT TYPE ZEDT00_001.

DATA : GT_STUDENT LIKE TABLE OF GS_STUDENT.



CLEAR : GS_STUDENT.



GS_STUDENT-ZPERNR = '000000001'.

GS_STUDENT-ZCODE = 'SSU-01'.

GS_STUDENT-ZKNAME = '###'.

GS_STUDENT-ZENAME = 'DONG'.




*GS_STUDENT-ZGENDER = 'F'.




GS_STUDENT-ZGENDER = 'M'.

GS_STUDENT-ZTEL = '01011112222' .

APPEND GS_STUDENT TO GT_STUDENT.






*GS_STUDENT-ZGENDER = 'M'.

*MODIFY TABLE GT_STUDENT FROM GS_STUDENT.

*GS_STUDENT-ZGENDER = 'KANG'.

*GS_STUDENT-ZGENDER = 'M'.

*MODIFY TABLE GT_STUDENT FROM GS_STUDENT TRANSPORTING ZGENDER.




CLEAR : GS_STUDENT.



GS_STUDENT-ZPERNR = '000000002'.

GS_STUDENT-ZCODE = 'SSU-02'.

GS_STUDENT-ZKNAME = '###'.

GS_STUDENT-ZENAME = 'HOON'.

GS_STUDENT-ZGENDER = 'M'.

GS_STUDENT-ZTEL = '01022223333' .

APPEND GS_STUDENT TO GT_STUDENT.



CLEAR : GS_STUDENT.



GS_STUDENT-ZPERNR = '000000003'.

GS_STUDENT-ZCODE = 'SSU-03'.

GS_STUDENT-ZKNAME = '###'.

GS_STUDENT-ZENAME = 'SON'.

GS_STUDENT-ZGENDER = 'F'.

GS_STUDENT-ZTEL = '01033334444' .

APPEND GS_STUDENT TO GT_STUDENT.






*CLEAR : GS_STUDENT.

*LOOP AT GT_STUDENT INTO GS_STUDENT.

*  IF GS_STUDENT-ZGENDER = 'M'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSEIF GS_STUDENT-ZGENDER = 'F'.

*    GS_STUDENT-ZGNAME = '##'.

*  ELSE.

*    GS_STUDENT-ZGNAME = '##'.

*  ENDIF.

**  MODIFY GT_STUDENT FROM GS_STUDENT TRANSPORTING ZGNAME WHERE ZCODE = GS_STUDENT-ZCODE.

*  MODIFY GT_STUDENT FROM GS_STUDENT INDEX SY-TABIX.

*  CLEAR : GS_STUDENT.

*ENDLOOP.



*BREAK-POINT.

*CLEAR : GS_STUDENT.

*LOOP AT GT_STUDENT INTO GS_STUDENT.

*  IF GS_STUDENT-ZGENDER <> 'M'.

*    DELETE TABLE GT_STUDENT FROM GS_STUDENT.

*    IF SY-SUBRC = 0.

*    ELSE.

*      WRITE : /'## ##'.

*    ENDIF.

*  ELSE.

*    WRITE : / GS_STUDENT-ZCODE , GS_STUDENT-ZKNAME, GS_STUDENT-ZGENDER.

*  ENDIF.

*  CLEAR : GS_STUDENT.

*ENDLOOP.



*BREAK-POINT.



*DELETE TABLE GT_STUDENT WITH TABLE KEY ZGENDER = 'F'.

*

*IF SY-SUBRC = 0.

*  LOOP AT GT_STUDENT INTO GS_STUDENT.

*    WRITE : / GS_STUDENT-ZCODE , GS_STUDENT-ZKNAME, GS_STUDENT-ZGENDER.

*  ENDLOOP.

*ENDIF.



*BREAK-POINT.



*DELETE GT_STUDENT WHERE ZGENDER = 'F'.

*IF SY-SUBRC = 0.

*  LOOP AT GT_STUDENT INTO GS_STUDENT.

*    WRITE : / GS_STUDENT-ZCODE , GS_STUDENT-ZKNAME, GS_STUDENT-ZGENDER.

*  ENDLOOP.

*ENDIF.

*

*DELETE GT_STUDENT FROM 2 TO 3.

*IF SY-SUBRC = 0.

*  LOOP AT GT_STUDENT INTO GS_STUDENT.

*    WRITE : / GS_STUDENT-ZCODE , GS_STUDENT-ZKNAME, GS_STUDENT-ZGENDER.

*  ENDLOOP.

*ENDIF.

*

*DELETE GT_STUDENT FROM 2.

*IF SY-SUBRC = 0.

*  LOOP AT GT_STUDENT INTO GS_STUDENT.

*    WRITE : / GS_STUDENT-ZCODE , GS_STUDENT-ZKNAME, GS_STUDENT-ZGENDER.

*  ENDLOOP.

*ENDIF.

*

*DELETE GT_STUDENT TO 2.

*IF SY-SUBRC = 0.

*  LOOP AT GT_STUDENT INTO GS_STUDENT.

*    WRITE : / GS_STUDENT-ZCODE , GS_STUDENT-ZKNAME, GS_STUDENT-ZGENDER.

*  ENDLOOP.

*ENDIF.



*CLEAR : GS_STUDENT.



*GS_STUDENT-ZPERNR = '000000003'.

*GS_STUDENT-ZCODE = 'SSU-03'.

*GS_STUDENT-ZKNAME = '###'.

*GS_STUDENT-ZENAME = 'SON'.

*GS_STUDENT-ZGENDER = 'F'.

*GS_STUDENT-ZTEL = '01033334444' .

*APPEND GS_STUDENT TO GT_STUDENT.






CLEAR : GS_STUDENT.



GS_STUDENT-ZPERNR = '000000003'.

GS_STUDENT-ZCODE = 'SSU-03'.

GS_STUDENT-ZKNAME = '###'.

GS_STUDENT-ZENAME = 'SON'.

GS_STUDENT-ZGENDER = 'F'.

GS_STUDENT-ZTEL = '01044445555' .

APPEND GS_STUDENT TO GT_STUDENT.



BREAK-POINT.



SORT GT_STUDENT.



DELETE ADJACENT DUPLICATES FROM GT_STUDENT COMPARING ZCODE.

IF SY-SUBRC = 0.

  LOOP AT GT_STUDENT INTO GS_STUDENT.

    WRITE : / GS_STUDENT-ZCODE , GS_STUDENT-ZKNAME, GS_STUDENT-ZGENDER.

  ENDLOOP.

ENDIF.



CONSTANTS: c_sep1 TYPE i VALUE 0,

           c_sep2 TYPE i VALUE 15,

           c_sep3 TYPE i VALUE 40,

           c_sep4 TYPE i VALUE 50,

           c_sep5 TYPE i VALUE 70.



WRITE: / sy-uline(c_sep5).



WRITE: / sy-uline(c_sep5).