<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=ISO-8859-1" />
<title>ZEDR16_PROJECT004_F02</title>
<style type="text/css">
.code{ font-family:"Courier New", Courier, monospace; color:#000; font-size:14px; background-color:#F2F4F7 }
  .codeComment {font-family:"Courier New", Courier, monospace; color:#0000F0; font-size:14px; background-color:#F2F4F7 }
  .normalBold{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px; font-weight:800 }
  .normalBoldLarge{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:16px; font-weight:800 }
</style>
<style type="text/css">
  .normal{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px }
  .footer{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px; text-align: center }
  h2{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:16px; font-weight:800 }
  h3{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:14px; font-weight:800 }
  .outerTable{
   background-color:#E0E7ED;
   width:100%;
   border-top-width: thin;
   border-right-width: thin;
   border-right-width: thin;
   border-left-width: thin;
   border-top-style: solid;
   border-right-style: solid;
   border-bottom-style: solid;
   border-left-style: solid;
  }
  .innerTable{
   background-color:#F2F4F7;
   width:100%;
   border-top-width: thin;
   border-right-width: thin;
   border-bottom-width: thin;
   border-left-width: thin;
   border-top-style: solid;
   border-right-style: solid;
   border-bottom-style: solid;
   border-left-style: solid;
  }
</style>
</head>
<body>
<table class="outerTable">
  <tr class="normalBoldLarge">
     <td><h2>Code listing for: ZEDR16_PROJECT004_F02</h2>
<h3> Description: </h3></td>
   </tr>
  <tr>
     <td>
     <table class="innerTable">
       <tr>
          <td>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;Include&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZEDR16_PROJECT004_F02<br />
*&---------------------------------------------------------------------*<br />
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;CHECK_INPUT_DATA_DIS<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM CHECK_INPUT_DATA_DIS .<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;PARAMETERS&nbsp;:&nbsp;P_EBELN2&nbsp;TYPE&nbsp;ZEDT16_EKKO-EBELN&nbsp;MODIF&nbsp;ID&nbsp;MD2,<br />
*&nbsp;P_WERKS2&nbsp;TYPE&nbsp;ZEDT16_EKPO-WERKS&nbsp;MODIF&nbsp;ID&nbsp;MD2.<br />
<br />
   </div>
   <div class="code">
&nbsp;&nbsp;"&nbsp;##&nbsp;####&nbsp;##&nbsp;##&nbsp;(BELNR,&nbsp;GJAHR)<br />
&nbsp;&nbsp;DATA&nbsp;:&nbsp;LV_BELNR&nbsp;TYPE&nbsp;ZEDT16_RSEG-BELNR,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LV_GJAHR&nbsp;TYPE&nbsp;ZEDT16_RSEG-GJAHR.<br />
<br />
&nbsp;&nbsp;"&nbsp;1.&nbsp;####&nbsp;##(P_EBELN2)&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;IF&nbsp;P_EBELN2&nbsp;IS&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'###&nbsp;####&nbsp;###&nbsp;######.'&nbsp;TYPE&nbsp;'S'&nbsp;DISPLAY&nbsp;LIKE&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEAVE&nbsp;LIST-PROCESSING.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;"&nbsp;2.&nbsp;###(P_WERKS2)&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;IF&nbsp;P_WERKS2&nbsp;IS&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'###&nbsp;####&nbsp;######.'&nbsp;TYPE&nbsp;'S'&nbsp;DISPLAY&nbsp;LIKE&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEAVE&nbsp;LIST-PROCESSING.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;"&nbsp;3.&nbsp;ZEDT16_RSEG&nbsp;(##&nbsp;###)&nbsp;###&nbsp;##&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;"&nbsp;&nbsp;&nbsp;&nbsp;##:&nbsp;####(EBELN)&nbsp;+&nbsp;###(WERKS)<br />
&nbsp;&nbsp;CLEAR:&nbsp;LV_BELNR,&nbsp;LV_GJAHR.<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;BELNR&nbsp;GJAHR<br />
&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;(LV_BELNR,&nbsp;LV_GJAHR)<br />
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;ZEDT16_RSEG<br />
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;EBELN&nbsp;=&nbsp;P_EBELN2<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;WERKS&nbsp;=&nbsp;P_WERKS2.<br />
<br />
&nbsp;&nbsp;IF&nbsp;SY-SUBRC&nbsp;&lt;&gt;&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'###&nbsp;##&nbsp;##&nbsp;##(RSEG)#&nbsp;####&nbsp;####.'&nbsp;TYPE&nbsp;'S'&nbsp;DISPLAY&nbsp;LIKE&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEAVE&nbsp;LIST-PROCESSING.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;"&nbsp;4.&nbsp;##(RBKP)&nbsp;###&nbsp;##&nbsp;(##&nbsp;##)<br />
&nbsp;&nbsp;"&nbsp;&nbsp;&nbsp;&nbsp;###&nbsp;##&nbsp;####(BELNR)#&nbsp;##(GJAHR)#&nbsp;###&nbsp;##&nbsp;###&nbsp;##<br />
&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;BELNR<br />
&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;LV_BELNR<br />
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;ZEDT16_RBKP<br />
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;BELNR&nbsp;=&nbsp;LV_BELNR<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;GJAHR&nbsp;=&nbsp;LV_GJAHR.<br />
<br />
&nbsp;&nbsp;IF&nbsp;SY-SUBRC&nbsp;&lt;&gt;&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'##&nbsp;##&nbsp;##(RBKP)&nbsp;###&nbsp;##&nbsp;#&nbsp;####.'&nbsp;TYPE&nbsp;'S'&nbsp;DISPLAY&nbsp;LIKE&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEAVE&nbsp;LIST-PROCESSING.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;GET_DATA_DIS<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM GET_DATA_DIS .<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;DATA:&nbsp;BEGIN&nbsp;OF&nbsp;GS_INVOICE_HEADER,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EBELN&nbsp;TYPE&nbsp;ZEDT16_EKKO-EBELN,&nbsp;"&nbsp;######<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BUKRS&nbsp;TYPE&nbsp;ZEDT16_EKKO-BUKRS,&nbsp;"&nbsp;####<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EKGRP&nbsp;TYPE&nbsp;ZEDT16_EKKO-EKGRP,&nbsp;"&nbsp;####<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EKORG&nbsp;TYPE&nbsp;ZEDT16_EKKO-EKORG,&nbsp;"&nbsp;####<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LIFNR&nbsp;TYPE&nbsp;ZEDT16_EKKO-LIFNR,&nbsp;"&nbsp;###<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NAME1&nbsp;TYPE&nbsp;ZEDT16_LFA1-NAME1,&nbsp;"&nbsp;#####<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BEDAT&nbsp;TYPE&nbsp;ZEDT16_EKKO-BEDAT,&nbsp;"&nbsp;PO&nbsp;###<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLDAT&nbsp;TYPE&nbsp;ZEDT16_RBKP-BLDAT,&nbsp;"&nbsp;##&nbsp;###<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WERKS&nbsp;TYPE&nbsp;ZEDT16_RBKP-WERKS,&nbsp;"&nbsp;###<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;GS_INVOICE_HEADER.<br />
*&nbsp;&nbsp;DATA&nbsp;:&nbsp;GT_INVOICE_HEADER&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;GS_INVOICE_HEADER.<br />
*<br />
*&nbsp;&nbsp;DATA:&nbsp;BEGIN&nbsp;OF&nbsp;GS_ALV_DIS,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;[##&nbsp;##]<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L_CHECK&nbsp;TYPE&nbsp;C&nbsp;LENGTH&nbsp;4,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;####&nbsp;(##&nbsp;###&nbsp;#)<br />
*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;[Key&nbsp;Fields&nbsp;-&nbsp;##&nbsp;##&nbsp;#&nbsp;##]<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BELNR&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-BELNR,&nbsp;&nbsp;&nbsp;"&nbsp;######&nbsp;(##/###&nbsp;##)<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GJAHR&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-GJAHR,&nbsp;&nbsp;&nbsp;"&nbsp;####&nbsp;(##/###&nbsp;##)<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BUZEI&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-BUZEI,&nbsp;&nbsp;&nbsp;"&nbsp;######&nbsp;(###)<br />
*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;[##&nbsp;##&nbsp;##&nbsp;(RBKP)]&nbsp;-&nbsp;PO##(GS_INVOICE_HEADER)&nbsp;##<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLART&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-BLART,&nbsp;&nbsp;&nbsp;"&nbsp;####&nbsp;(RE,&nbsp;KG&nbsp;#)<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLDAT&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-BLDAT,&nbsp;&nbsp;&nbsp;"&nbsp;###<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BUDAT&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-BUDAT,&nbsp;&nbsp;&nbsp;"&nbsp;###<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RBSTAT&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-RBSTAT,&nbsp;&nbsp;"&nbsp;####&nbsp;(5:###&nbsp;#)<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZTERM&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-ZTERM,&nbsp;&nbsp;&nbsp;"&nbsp;####<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BKTXT&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-BKTXT,&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;###<br />
*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;[##&nbsp;###&nbsp;##&nbsp;(RSEG)]&nbsp;-&nbsp;PO&nbsp;##&nbsp;##<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EBELN&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-EBELN,&nbsp;&nbsp;&nbsp;"&nbsp;######<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EBELP&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-EBELP,&nbsp;&nbsp;&nbsp;"&nbsp;######<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MATNR&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-MATNR,&nbsp;&nbsp;&nbsp;"&nbsp;####<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TXZ01&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-TXZ01,&nbsp;&nbsp;&nbsp;"&nbsp;###<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WERKS&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-WERKS,&nbsp;&nbsp;&nbsp;"&nbsp;###<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LGORT&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-LGORT,&nbsp;&nbsp;&nbsp;"&nbsp;####<br />
*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;[##&nbsp;#&nbsp;##]<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MENGE&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-MENGE,&nbsp;&nbsp;&nbsp;"&nbsp;##<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MEINS&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-MEINS,&nbsp;&nbsp;&nbsp;"&nbsp;##<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WAERS&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-WAERS,&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;(##/###&nbsp;##)<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WRBTR&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-WRBTR,&nbsp;&nbsp;&nbsp;"&nbsp;####&nbsp;(Item&nbsp;Net&nbsp;Value)<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WMWST&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-WMWST,&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;(Item&nbsp;Tax)<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MWSKZ&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-MWSKZ,&nbsp;&nbsp;&nbsp;"&nbsp;####<br />
*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;[##&nbsp;##&nbsp;##]&nbsp;-&nbsp;ALV##&nbsp;####&nbsp;##<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DMBTR&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-WRBTR,&nbsp;&nbsp;&nbsp;"&nbsp;####&nbsp;(###&nbsp;+&nbsp;##)<br />
*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;[##&nbsp;##]<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SHKZG&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-SHKZG,&nbsp;&nbsp;&nbsp;"&nbsp;#####&nbsp;(S/H)<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SGTXT&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-SGTXT,&nbsp;&nbsp;&nbsp;"&nbsp;###&nbsp;###<br />
*<br />
*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;GS_ALV_DIS.<br />
*<br />
*&nbsp;&nbsp;DATA:&nbsp;GT_ALV_DIS&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;GS_ALV_DIS.<br />
*<br />
*&nbsp;&nbsp;"&nbsp;##&nbsp;##<br />
**DATA:&nbsp;BEGIN&nbsp;OF&nbsp;GS_RBKP,<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BELNR&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-BELNR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;######&nbsp;*<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GJAHR&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-GJAHR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;####&nbsp;*<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLART&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-BLART,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;####<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLDAT&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-BLDAT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;###<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BUDAT&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-BUDAT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;###<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BUKRS&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-BUKRS,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;####&nbsp;*<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LIFNR&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-LIFNR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;###&nbsp;*<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WAERS&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-WAERS,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZTERM&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-ZTERM,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;####<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BKTXT&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-BKTXT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;#####<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XMWST&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-XMWST,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;######<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RMWWR&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-RMWWR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;#####<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WMWST&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-WMWST,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RBSTAT&nbsp;TYPE&nbsp;ZEDT16_RBKP-RBSTAT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;####<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EBELN&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-EBELN,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;######<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WERKS&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RBKP-WERKS,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;###<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;GS_RBKP.<br />
**DATA:&nbsp;GT_RBKP&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;GS_RBKP.<br />
*&nbsp;&nbsp;DATA:&nbsp;GS_RBKP&nbsp;TYPE&nbsp;ZEDT16_RBKP.<br />
*<br />
*&nbsp;&nbsp;DATA:&nbsp;GT_RBKP&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;GS_RBKP.<br />
*<br />
*&nbsp;&nbsp;"&nbsp;##&nbsp;###<br />
**DATA:&nbsp;BEGIN&nbsp;OF&nbsp;GS_RSEG,<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L_CHECK&nbsp;TYPE&nbsp;C&nbsp;LENGTH&nbsp;4,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;####<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BELNR&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-BELNR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;######&nbsp;*<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GJAHR&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-GJAHR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;####&nbsp;*<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BUZEI&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-BUZEI,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;######&nbsp;*<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EBELN&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-EBELN,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;######<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EBELP&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-EBELP,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;######<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MATNR&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-MATNR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;####<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TXZ01&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-TXZ01,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;###<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WERKS&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-WERKS,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;###<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LGORT&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-LGORT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;####<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MENGE&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-MENGE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MEINS&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-MEINS,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;####<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WAERS&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-WAERS,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WRBTR&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-WRBTR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;####<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MWSKZ&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-MWSKZ,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;####<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WMWST&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-WMWST,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SHKZG&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-SHKZG,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;#####<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SGTXT&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-SGTXT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;######<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;GS_RSEG.<br />
**DATA:&nbsp;GT_RSEG&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;GS_RSEG.<br />
*&nbsp;&nbsp;DATA:&nbsp;GS_RSEG&nbsp;TYPE&nbsp;ZEDT16_RSEG.<br />
*<br />
*&nbsp;&nbsp;DATA:&nbsp;GT_RSEG&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;GS_RSEG.<br />
<br />
   </div>
   <div class="code">
&nbsp;&nbsp;"&nbsp;1.&nbsp;##&nbsp;#&nbsp;###&nbsp;###<br />
&nbsp;&nbsp;REFRESH&nbsp;:&nbsp;GT_ALV_DIS,&nbsp;GT_RSEG.<br />
&nbsp;&nbsp;CLEAR&nbsp;&nbsp;&nbsp;:&nbsp;GS_ALV_DIS,&nbsp;GS_RSEG,&nbsp;GS_RBKP.<br />
<br />
&nbsp;&nbsp;"&nbsp;2.&nbsp;##&nbsp;###(RSEG)&nbsp;##<br />
&nbsp;&nbsp;"&nbsp;&nbsp;&nbsp;&nbsp;##:&nbsp;####&nbsp;+&nbsp;###&nbsp;+&nbsp;#####&nbsp;##&nbsp;#(LOEKZ&nbsp;=&nbsp;space)&nbsp;+&nbsp;##(S)#<br />
&nbsp;&nbsp;SELECT&nbsp;*<br />
&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;TABLE&nbsp;GT_RSEG<br />
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;ZEDT16_RSEG<br />
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;EBELN&nbsp;=&nbsp;P_EBELN2<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;WERKS&nbsp;=&nbsp;P_WERKS2<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;SHKZG&nbsp;=&nbsp;'S'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;##(S)#&nbsp;##&nbsp;(H#&nbsp;##&nbsp;###&nbsp;##)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;LOEKZ&nbsp;=&nbsp;'&nbsp;'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;#&nbsp;##(##)&nbsp;###&nbsp;##&nbsp;##&nbsp;##<br />
<br />
&nbsp;&nbsp;"&nbsp;####&nbsp;###&nbsp;##<br />
&nbsp;&nbsp;IF&nbsp;SY-SUBRC&nbsp;&lt;&gt;&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'##&nbsp;#####&nbsp;##&nbsp;###&nbsp;##&nbsp;###&nbsp;####.'&nbsp;TYPE&nbsp;'S'&nbsp;DISPLAY&nbsp;LIKE&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LEAVE&nbsp;LIST-PROCESSING.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;"&nbsp;3.&nbsp;###&nbsp;##&nbsp;(Item&nbsp;+&nbsp;Header&nbsp;-&gt;&nbsp;ALV)<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;GT_RSEG&nbsp;INTO&nbsp;GS_RSEG.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;(##&nbsp;##&nbsp;#&nbsp;##&nbsp;###&nbsp;###&nbsp;##)<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR&nbsp;GS_ALV_DIS.<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR&nbsp;GS_RBKP.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;*<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;GS_RBKP<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;ZEDT16_RBKP<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;BELNR&nbsp;=&nbsp;GS_RSEG-BELNR<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;GJAHR&nbsp;=&nbsp;GS_RSEG-GJAHR.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;MOVE-CORRESPONDING&nbsp;GS_RSEG&nbsp;TO&nbsp;GS_ALV_DIS.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_ALV_DIS-BLART&nbsp;&nbsp;=&nbsp;GS_RBKP-BLART.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_ALV_DIS-BLDAT&nbsp;&nbsp;=&nbsp;GS_RBKP-BLDAT.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_ALV_DIS-BUDAT&nbsp;&nbsp;=&nbsp;GS_RBKP-BUDAT.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_ALV_DIS-RBSTAT&nbsp;=&nbsp;GS_RBKP-RBSTAT.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_ALV_DIS-ZTERM&nbsp;&nbsp;=&nbsp;GS_RBKP-ZTERM.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_ALV_DIS-BKTXT&nbsp;&nbsp;=&nbsp;GS_RBKP-BKTXT.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_ALV_DIS-WAERS&nbsp;&nbsp;=&nbsp;GS_RBKP-WAERS.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_ALV_DIS-BUKRS&nbsp;&nbsp;=&nbsp;GS_RBKP-BUKRS.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_ALV_DIS-LIFNR&nbsp;&nbsp;=&nbsp;GS_RBKP-LIFNR.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_ALV_DIS-DMBTR&nbsp;=&nbsp;GS_RSEG-WRBTR&nbsp;+&nbsp;GS_RSEG-WMWST.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;APPEND&nbsp;GS_ALV_DIS&nbsp;TO&nbsp;GT_ALV_DIS.<br />
<br />
&nbsp;&nbsp;ENDLOOP.<br />
<br />
&nbsp;&nbsp;"&nbsp;4.&nbsp;##<br />
&nbsp;&nbsp;SORT&nbsp;GT_ALV_DIS&nbsp;BY&nbsp;BELNR&nbsp;GJAHR&nbsp;BUZEI.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;CREATE_OBJECT_200<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM CREATE_OBJECT_200 .<br />
<br />
&nbsp;&nbsp;CREATE&nbsp;OBJECT&nbsp;GC_DOCKING<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REPID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;SY-REPID<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DYNNR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'0200'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SIDE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;CL_GUI_DOCKING_CONTAINER=&gt;DOCK_AT_LEFT<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EXTENSION&nbsp;=&nbsp;3000.&nbsp;"&nbsp;##&nbsp;####&nbsp;###&nbsp;##&nbsp;##<br />
<br />
&nbsp;&nbsp;"&nbsp;2.&nbsp;###&nbsp;##&nbsp;(###&nbsp;##&nbsp;####)<br />
&nbsp;&nbsp;CREATE&nbsp;OBJECT&nbsp;GC_GRID_200<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I_PARENT&nbsp;=&nbsp;GC_DOCKING.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;FIELD_CATALOG_200<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM FIELD_CATALOG_200 .<br />
<br />
&nbsp;&nbsp;DATA&nbsp;:&nbsp;LV_POS&nbsp;TYPE&nbsp;I.<br />
<br />
&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;GS_FIELDCAT,&nbsp;GT_FIELDCAT,&nbsp;LV_POS.<br />
<br />
&nbsp;&nbsp;"&nbsp;-------------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;1.&nbsp;####<br />
&nbsp;&nbsp;"&nbsp;-------------------------------------------------------------<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'L_CHECK'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;GS_FIELDCAT-CHECKBOX&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;GS_FIELDCAT-EDIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;##&nbsp;(##&nbsp;###)<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;"&nbsp;-------------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;2.&nbsp;Key&nbsp;Fields&nbsp;(####,&nbsp;##,&nbsp;##)<br />
&nbsp;&nbsp;"&nbsp;-------------------------------------------------------------<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'BELNR'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'####'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RBKP'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'BELNR'.<br />
&nbsp;&nbsp;GS_FIELDCAT-EMPHASIZE&nbsp;=&nbsp;'C500'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'GJAHR'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'####'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RBKP'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'GJAHR'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'BUZEI'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RSEG'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'BUZEI'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;"&nbsp;-------------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;3.&nbsp;##&nbsp;##&nbsp;(####,&nbsp;###,&nbsp;###,&nbsp;##)<br />
&nbsp;&nbsp;"&nbsp;-------------------------------------------------------------<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'BLART'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RBKP'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'BLART'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'BLDAT'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RBKP'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'BLDAT'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'BUDAT'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RBKP'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'BUDAT'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'RBSTAT'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RBKP'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'RBSTAT'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;"&nbsp;-------------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;4.&nbsp;PO&nbsp;#&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;"&nbsp;-------------------------------------------------------------<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'EBELN'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'####'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RSEG'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'EBELN'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'EBELP'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RSEG'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'EBELP'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'MATNR'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'####'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RSEG'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'MATNR'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'TXZ01'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'####'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RSEG'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'TXZ01'.<br />
&nbsp;&nbsp;GS_FIELDCAT-OUTPUTLEN&nbsp;=&nbsp;20.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;"&nbsp;-------------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;5.&nbsp;##&nbsp;#&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;"&nbsp;-------------------------------------------------------------<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;&nbsp;=&nbsp;'MENGE'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;&nbsp;=&nbsp;'ZEDT16_RSEG'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;&nbsp;=&nbsp;'MENGE'.<br />
&nbsp;&nbsp;GS_FIELDCAT-QFIELDNAME&nbsp;=&nbsp;'MEINS'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;GS_FIELDCAT-EMPHASIZE&nbsp;&nbsp;=&nbsp;'C300'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'MEINS'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RSEG'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'MEINS'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'WAERS'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RBKP'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'WAERS'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;&nbsp;=&nbsp;'WRBTR'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'####'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;&nbsp;=&nbsp;'ZEDT16_RSEG'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;&nbsp;=&nbsp;'WRBTR'.<br />
&nbsp;&nbsp;GS_FIELDCAT-CFIELDNAME&nbsp;=&nbsp;'WAERS'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;&nbsp;=&nbsp;'WMWST'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;&nbsp;=&nbsp;'ZEDT16_RSEG'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;&nbsp;=&nbsp;'WMWST'.<br />
&nbsp;&nbsp;GS_FIELDCAT-CFIELDNAME&nbsp;=&nbsp;'WAERS'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;&nbsp;=&nbsp;'DMBTR'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'####'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;&nbsp;=&nbsp;'ZEDT16_RSEG'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;&nbsp;=&nbsp;'WRBTR'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;###&nbsp;WRBTR&nbsp;##<br />
&nbsp;&nbsp;GS_FIELDCAT-CFIELDNAME&nbsp;=&nbsp;'WAERS'.<br />
&nbsp;&nbsp;GS_FIELDCAT-EMPHASIZE&nbsp;&nbsp;=&nbsp;'C700'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;"&nbsp;-------------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;6.&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;"&nbsp;-------------------------------------------------------------<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'BUKRS'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'####'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RBKP'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'BUKRS'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'LIFNR'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RBKP'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'LIFNR'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'MWSKZ'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'####'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RSEG'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'MWSKZ'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'SHKZG'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'###'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RSEG'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'SHKZG'.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
&nbsp;&nbsp;LV_POS&nbsp;=&nbsp;LV_POS&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_FIELDCAT.<br />
&nbsp;&nbsp;GS_FIELDCAT-COL_POS&nbsp;&nbsp;&nbsp;=&nbsp;LV_POS.<br />
&nbsp;&nbsp;GS_FIELDCAT-FIELDNAME&nbsp;=&nbsp;'SGTXT'.<br />
&nbsp;&nbsp;GS_FIELDCAT-COLTEXT&nbsp;&nbsp;&nbsp;=&nbsp;'##'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_TABLE&nbsp;=&nbsp;'ZEDT16_RSEG'.<br />
&nbsp;&nbsp;GS_FIELDCAT-REF_FIELD&nbsp;=&nbsp;'SGTXT'.<br />
&nbsp;&nbsp;GS_FIELDCAT-OUTPUTLEN&nbsp;=&nbsp;30.<br />
&nbsp;&nbsp;APPEND&nbsp;GS_FIELDCAT&nbsp;TO&nbsp;GT_FIELDCAT.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;ALV_LAYOUT_200<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM ALV_LAYOUT_200 .<br />
<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_LAYOUT.<br />
&nbsp;&nbsp;GS_LAYOUT-ZEBRA&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;GS_LAYOUT-SEL_MODE&nbsp;&nbsp;&nbsp;=&nbsp;'D'.<br />
<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_VARIANT.<br />
&nbsp;&nbsp;GS_VARIANT-REPORT&nbsp;=&nbsp;SY-REPID.<br />
&nbsp;&nbsp;GS_VARIANT-USERNAME&nbsp;=&nbsp;SY-UNAME.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;CALL_ALV_200<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM CALL_ALV_200 .<br />
<br />
&nbsp;&nbsp;CALL&nbsp;METHOD&nbsp;GC_GRID_200-&gt;SET_TABLE_FOR_FIRST_DISPLAY<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IS_LAYOUT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;GS_LAYOUT<br />
&nbsp;&nbsp;&nbsp;&nbsp;CHANGING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IT_OUTTAB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;GT_ALV_DIS<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IT_FIELDCATALOG&nbsp;=&nbsp;GT_FIELDCAT.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;REFRESH_200<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM REFRESH_200 .<br />
<br />
&nbsp;&nbsp;DATA&nbsp;:&nbsp;LS_STABLE&nbsp;TYPE&nbsp;LVC_S_STBL.<br />
<br />
&nbsp;&nbsp;LS_STABLE-ROW&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_STABLE-COL&nbsp;=&nbsp;'X'.<br />
<br />
&nbsp;&nbsp;CALL&nbsp;METHOD&nbsp;GC_GRID_200-&gt;REFRESH_TABLE_DISPLAY<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IS_STABLE&nbsp;=&nbsp;LS_STABLE<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I_SOFT_REFRESH&nbsp;=<br />
*&nbsp;&nbsp;&nbsp;&nbsp;EXCEPTIONS<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FINISHED&nbsp;&nbsp;=&nbsp;1<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OTHERS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;2<br />
   </div>
   <div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;.<br />
&nbsp;&nbsp;IF&nbsp;SY-SUBRC&nbsp;&lt;&gt;&nbsp;0.<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;&nbsp;Implement&nbsp;suitable&nbsp;error&nbsp;handling&nbsp;here<br />
   </div>
   <div class="code">
&nbsp;&nbsp;ENDIF.<br />
<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;REMOVE_BUTTON<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
*&nbsp;&nbsp;--&gt;&nbsp;&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*&nbsp;&nbsp;&lt;--&nbsp;&nbsp;p2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<br />
*----------------------------------------------------------------------*<br />
   </div>
   <div class="code">
FORM REMOVE_BUTTON .<br />
<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
&nbsp;&nbsp;DATA&nbsp;:&nbsp;LV_MAX_BELNR&nbsp;TYPE&nbsp;ZEDT16_RBKP-BELNR,&nbsp;"&nbsp;##&nbsp;#&nbsp;####<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LV_NEW_BELNR&nbsp;TYPE&nbsp;ZEDT16_RBKP-BELNR,&nbsp;"&nbsp;##&nbsp;###&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LV_GJAHR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;GJAHR,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;####&nbsp;(#####)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LV_BUZEI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;ZEDT16_RSEG-BUZEI,&nbsp;"&nbsp;###&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LV_FLAG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;C,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;##&nbsp;###<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LV_ANSWER&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;C.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;##<br />
<br />
&nbsp;&nbsp;"&nbsp;##&nbsp;###&nbsp;##<br />
&nbsp;&nbsp;DATA&nbsp;:&nbsp;LV_SUM_WRBTR&nbsp;TYPE&nbsp;ZEDT16_RBKP-RMWWR,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LV_SUM_WMWST&nbsp;TYPE&nbsp;ZEDT16_RBKP-WMWST.<br />
<br />
&nbsp;&nbsp;"&nbsp;##&nbsp;##&nbsp;###<br />
&nbsp;&nbsp;DATA:&nbsp;LS_FIRST_LINE&nbsp;LIKE&nbsp;GS_ALV_DIS.<br />
<br />
&nbsp;&nbsp;"&nbsp;ALV&nbsp;####&nbsp;##&nbsp;(##&nbsp;###&nbsp;###&nbsp;##&nbsp;##)<br />
&nbsp;&nbsp;IF&nbsp;GC_GRID_200&nbsp;IS&nbsp;NOT&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;CALL&nbsp;METHOD&nbsp;GC_GRID_200-&gt;CHECK_CHANGED_DATA.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;1.&nbsp;###&nbsp;##&nbsp;(###&nbsp;##&nbsp;##)<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;LV_FLAG.<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;GT_ALV_DIS&nbsp;INTO&nbsp;GS_ALV_DIS&nbsp;WHERE&nbsp;L_CHECK&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LV_FLAG&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXIT.&nbsp;"&nbsp;####&nbsp;###&nbsp;##<br />
&nbsp;&nbsp;ENDLOOP.<br />
<br />
&nbsp;&nbsp;IF&nbsp;LV_FLAG&nbsp;IS&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'###&nbsp;###&nbsp;######.'&nbsp;TYPE&nbsp;'S'&nbsp;DISPLAY&nbsp;LIKE&nbsp;'W'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;RETURN.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;2.&nbsp;##&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
&nbsp;&nbsp;CALL&nbsp;FUNCTION&nbsp;'POPUP_TO_CONFIRM'<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TITLEBAR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'##&nbsp;##&nbsp;##'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TEXT_QUESTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'###&nbsp;##&nbsp;###&nbsp;##&nbsp;######?'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TEXT_BUTTON_1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'#'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ICON_BUTTON_1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'ICON_OKAY'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TEXT_BUTTON_2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'###'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ICON_BUTTON_2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'ICON_CANCEL'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DISPLAY_CANCEL_BUTTON&nbsp;=&nbsp;'&nbsp;'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;POPUP_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'ICON_MESSAGE_QUESTION'<br />
&nbsp;&nbsp;&nbsp;&nbsp;IMPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ANSWER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LV_ANSWER.<br />
<br />
&nbsp;&nbsp;IF&nbsp;LV_ANSWER&nbsp;&lt;&gt;&nbsp;'1'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'##&nbsp;###&nbsp;#######.'&nbsp;TYPE&nbsp;'S'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;RETURN.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;3.&nbsp;##&nbsp;####(BELNR)&nbsp;##&nbsp;(###)<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;##&nbsp;###&nbsp;##&nbsp;##(SY-DATUM)&nbsp;####&nbsp;###&nbsp;####.<br />
&nbsp;&nbsp;LV_GJAHR&nbsp;=&nbsp;SY-DATUM(4).<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;MAX(&nbsp;BELNR&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;LV_MAX_BELNR<br />
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;ZEDT16_RBKP<br />
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;GJAHR&nbsp;=&nbsp;LV_GJAHR.<br />
<br />
&nbsp;&nbsp;IF&nbsp;LV_MAX_BELNR&nbsp;IS&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LV_NEW_BELNR&nbsp;=&nbsp;'5000000000'.&nbsp;"&nbsp;##&nbsp;##&nbsp;###<br />
&nbsp;&nbsp;ELSE.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LV_NEW_BELNR&nbsp;=&nbsp;LV_MAX_BELNR&nbsp;+&nbsp;1.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;4.&nbsp;###&nbsp;##&nbsp;(##&nbsp;####&nbsp;&&nbsp;##&nbsp;###&nbsp;##)<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
&nbsp;&nbsp;REFRESH&nbsp;GT_RSEG.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;###&nbsp;###&nbsp;###&nbsp;###<br />
&nbsp;&nbsp;CLEAR&nbsp;:&nbsp;LV_BUZEI,&nbsp;LV_SUM_WRBTR,&nbsp;LV_SUM_WMWST,&nbsp;LS_FIRST_LINE.<br />
<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;GT_ALV_DIS&nbsp;INTO&nbsp;GS_ALV_DIS&nbsp;WHERE&nbsp;L_CHECK&nbsp;=&nbsp;'X'.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;###&nbsp;##&nbsp;##&nbsp;(#&nbsp;##&nbsp;##&nbsp;##:&nbsp;####,&nbsp;###,&nbsp;##&nbsp;#)<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;LS_FIRST_LINE&nbsp;IS&nbsp;INITIAL.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LS_FIRST_LINE&nbsp;=&nbsp;GS_ALV_DIS.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;=======================================================<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;(A)&nbsp;##&nbsp;###&nbsp;####<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;=======================================================<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;1.&nbsp;[###]&nbsp;##&nbsp;###&nbsp;##&nbsp;##&nbsp;(LOEKZ&nbsp;=&nbsp;X)<br />
&nbsp;&nbsp;&nbsp;&nbsp;UPDATE&nbsp;ZEDT16_RSEG<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SET&nbsp;LOEKZ&nbsp;=&nbsp;'X'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;BELNR&nbsp;=&nbsp;GS_ALV_DIS-BELNR<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;GJAHR&nbsp;=&nbsp;GS_ALV_DIS-GJAHR<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;BUZEI&nbsp;=&nbsp;GS_ALV_DIS-BUZEI.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;SY-SUBRC&nbsp;&lt;&gt;&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ROLLBACK&nbsp;WORK.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'##&nbsp;###&nbsp;##&nbsp;##(LOEKZ)&nbsp;##.&nbsp;###&nbsp;#####.'&nbsp;TYPE&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;2.&nbsp;[##]&nbsp;##&nbsp;###&nbsp;'###&nbsp;####(STBLG)'&nbsp;##&nbsp;#&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;&nbsp;&nbsp;&nbsp;(##:&nbsp;"#&nbsp;##&nbsp;###&nbsp;LV_NEW_BELNR&nbsp;###&nbsp;##&nbsp;#######"&nbsp;##&nbsp;##)<br />
&nbsp;&nbsp;&nbsp;&nbsp;UPDATE&nbsp;ZEDT16_RBKP<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SET&nbsp;STBLG&nbsp;=&nbsp;LV_NEW_BELNR&nbsp;&nbsp;"&nbsp;##&nbsp;##&nbsp;##&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STJAH&nbsp;=&nbsp;LV_GJAHR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;BELNR&nbsp;=&nbsp;GS_ALV_DIS-BELNR<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;GJAHR&nbsp;=&nbsp;GS_ALV_DIS-GJAHR.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;(##:&nbsp;##&nbsp;###&nbsp;##&nbsp;####&nbsp;###&nbsp;#&nbsp;##&nbsp;#######&nbsp;####)<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;SY-SUBRC&nbsp;&lt;&gt;&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ROLLBACK&nbsp;WORK.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'##&nbsp;##&nbsp;###&nbsp;##(STBLG)&nbsp;##.&nbsp;###&nbsp;#####.'&nbsp;TYPE&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;=======================================================<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;(B)&nbsp;##&nbsp;##&nbsp;###&nbsp;##&nbsp;(ZEDT16_RSEG)<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;=======================================================<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR&nbsp;GS_RSEG.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LV_BUZEI&nbsp;=&nbsp;LV_BUZEI&nbsp;+&nbsp;1.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;[Key&nbsp;Fields]<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-BELNR&nbsp;=&nbsp;LV_NEW_BELNR.&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;#&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-GJAHR&nbsp;=&nbsp;LV_GJAHR.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-BUZEI&nbsp;=&nbsp;LV_BUZEI.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;1,&nbsp;2,&nbsp;3...<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;[##&nbsp;##]&nbsp;(##&nbsp;###&nbsp;###&nbsp;##)<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-EBELN&nbsp;=&nbsp;GS_ALV_DIS-EBELN.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-EBELP&nbsp;=&nbsp;GS_ALV_DIS-EBELP.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-MATNR&nbsp;=&nbsp;GS_ALV_DIS-MATNR.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-TXZ01&nbsp;=&nbsp;GS_ALV_DIS-TXZ01.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-WERKS&nbsp;=&nbsp;GS_ALV_DIS-WERKS.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-LGORT&nbsp;=&nbsp;GS_ALV_DIS-LGORT.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-MENGE&nbsp;=&nbsp;GS_ALV_DIS-MENGE.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-MEINS&nbsp;=&nbsp;GS_ALV_DIS-MEINS.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-WAERS&nbsp;=&nbsp;GS_ALV_DIS-WAERS.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-WRBTR&nbsp;=&nbsp;GS_ALV_DIS-WRBTR.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-WMWST&nbsp;=&nbsp;GS_ALV_DIS-WMWST.<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-MWSKZ&nbsp;=&nbsp;GS_ALV_DIS-MWSKZ.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;#&nbsp;[##]&nbsp;###&nbsp;##:&nbsp;'H'&nbsp;(##/##)<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-SHKZG&nbsp;=&nbsp;'H'.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;#&nbsp;[##]&nbsp;##&nbsp;####&nbsp;##&nbsp;###&nbsp;###&nbsp;#&nbsp;####&nbsp;LOEKZ&nbsp;###<br />
&nbsp;&nbsp;&nbsp;&nbsp;GS_RSEG-LOEKZ&nbsp;=&nbsp;'&nbsp;'.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##:&nbsp;##&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;CONCATENATE&nbsp;'##:'&nbsp;GS_ALV_DIS-BELNR&nbsp;INTO&nbsp;GS_RSEG-SGTXT&nbsp;SEPARATED&nbsp;BY&nbsp;SPACE.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;####&nbsp;##<br />
&nbsp;&nbsp;&nbsp;&nbsp;APPEND&nbsp;GS_RSEG&nbsp;TO&nbsp;GT_RSEG.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;[##&nbsp;##&nbsp;##]<br />
&nbsp;&nbsp;&nbsp;&nbsp;LV_SUM_WRBTR&nbsp;=&nbsp;LV_SUM_WRBTR&nbsp;+&nbsp;GS_ALV_DIS-WRBTR.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LV_SUM_WMWST&nbsp;=&nbsp;LV_SUM_WMWST&nbsp;+&nbsp;GS_ALV_DIS-WMWST.<br />
<br />
&nbsp;&nbsp;ENDLOOP.<br />
<br />
<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;5.&nbsp;##&nbsp;##&nbsp;##&nbsp;(ZEDT16_RBKP)<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
&nbsp;&nbsp;CLEAR&nbsp;GS_RBKP.<br />
<br />
&nbsp;&nbsp;GS_RBKP-BELNR&nbsp;=&nbsp;LV_NEW_BELNR.<br />
&nbsp;&nbsp;GS_RBKP-GJAHR&nbsp;=&nbsp;LV_GJAHR.<br />
&nbsp;&nbsp;GS_RBKP-BLART&nbsp;=&nbsp;'RE'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;####<br />
&nbsp;&nbsp;GS_RBKP-BLDAT&nbsp;=&nbsp;SY-DATUM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;###&nbsp;(##)<br />
&nbsp;&nbsp;GS_RBKP-BUDAT&nbsp;=&nbsp;SY-DATUM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;###&nbsp;(##)<br />
&nbsp;&nbsp;GS_RBKP-RBSTAT&nbsp;=&nbsp;'5'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;###<br />
<br />
&nbsp;&nbsp;"&nbsp;[##&nbsp;##]<br />
&nbsp;&nbsp;GS_RBKP-RMWWR&nbsp;=&nbsp;LV_SUM_WRBTR&nbsp;+&nbsp;LV_SUM_WMWST.&nbsp;"&nbsp;###<br />
&nbsp;&nbsp;GS_RBKP-WMWST&nbsp;=&nbsp;LV_SUM_WMWST.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##<br />
&nbsp;&nbsp;GS_RBKP-WAERS&nbsp;=&nbsp;LS_FIRST_LINE-WAERS.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;##&nbsp;(ALV&nbsp;##&nbsp;##)<br />
&nbsp;&nbsp;GS_RBKP-XMWST&nbsp;=&nbsp;'X'.<br />
<br />
&nbsp;&nbsp;"&nbsp;[##&nbsp;##]&nbsp;-&nbsp;ALV##&nbsp;###&nbsp;#&nbsp;##<br />
&nbsp;&nbsp;GS_RBKP-BUKRS&nbsp;=&nbsp;LS_FIRST_LINE-BUKRS.&nbsp;&nbsp;"&nbsp;####<br />
&nbsp;&nbsp;GS_RBKP-LIFNR&nbsp;=&nbsp;LS_FIRST_LINE-LIFNR.&nbsp;&nbsp;"&nbsp;###<br />
&nbsp;&nbsp;GS_RBKP-BKTXT&nbsp;=&nbsp;'##&nbsp;##&nbsp;##'.<br />
<br />
&nbsp;&nbsp;"&nbsp;[##]&nbsp;##&nbsp;###&nbsp;STBLG/STJAH#&nbsp;#####.<br />
&nbsp;&nbsp;"&nbsp;(###&nbsp;#&nbsp;##&nbsp;###&nbsp;#&nbsp;###&nbsp;#&nbsp;####&nbsp;####)<br />
&nbsp;&nbsp;GS_RBKP-STBLG&nbsp;=&nbsp;'&nbsp;'.<br />
&nbsp;&nbsp;GS_RBKP-STJAH&nbsp;=&nbsp;'0000'.<br />
<br />
<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;6.&nbsp;DB&nbsp;##&nbsp;(INSERT)<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
<br />
&nbsp;&nbsp;"&nbsp;(1)&nbsp;##&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;INSERT&nbsp;ZEDT16_RBKP&nbsp;FROM&nbsp;GS_RBKP.<br />
&nbsp;&nbsp;IF&nbsp;SY-SUBRC&nbsp;&lt;&gt;&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ROLLBACK&nbsp;WORK.<br />
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'##&nbsp;##&nbsp;##&nbsp;##&nbsp;##'&nbsp;TYPE&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;RETURN.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;"&nbsp;(2)&nbsp;##&nbsp;###&nbsp;##<br />
&nbsp;&nbsp;INSERT&nbsp;ZEDT16_RSEG&nbsp;FROM&nbsp;TABLE&nbsp;GT_RSEG.<br />
&nbsp;&nbsp;IF&nbsp;SY-SUBRC&nbsp;&lt;&gt;&nbsp;0.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ROLLBACK&nbsp;WORK.<br />
&nbsp;&nbsp;&nbsp;&nbsp;MESSAGE&nbsp;'##&nbsp;##&nbsp;###&nbsp;##&nbsp;##'&nbsp;TYPE&nbsp;'E'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;RETURN.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
&nbsp;&nbsp;"&nbsp;7.&nbsp;##&nbsp;##&nbsp;(COMMIT&nbsp;&&nbsp;##&nbsp;##)<br />
&nbsp;&nbsp;"&nbsp;-----------------------------------------------------------<br />
&nbsp;&nbsp;COMMIT&nbsp;WORK&nbsp;AND&nbsp;WAIT.<br />
<br />
&nbsp;&nbsp;MESSAGE&nbsp;'##&nbsp;##&nbsp;###&nbsp;#######.'&nbsp;TYPE&nbsp;'S'.<br />
<br />
&nbsp;&nbsp;"&nbsp;#&nbsp;##&nbsp;###&nbsp;###(GT_ALV_DIS)##&nbsp;###&nbsp;###&nbsp;##&nbsp;##<br />
&nbsp;&nbsp;"&nbsp;&nbsp;&nbsp;&nbsp;(DB&nbsp;###&nbsp;GET_DATA_DIS&nbsp;##&nbsp;###&nbsp;##)<br />
&nbsp;&nbsp;DELETE&nbsp;GT_ALV_DIS&nbsp;WHERE&nbsp;L_CHECK&nbsp;=&nbsp;'X'.<br />
<br />
&nbsp;&nbsp;"&nbsp;ALV&nbsp;####<br />
&nbsp;&nbsp;PERFORM&nbsp;REFRESH_200.<br />
<br />
ENDFORM.<br />
            </div>
          </td>
        </tr>
      </table>
      </td>
      </tr>
   <tr>
<td class="footer">Extracted by Mass Download version 1.5.5 - E.G.Mellodew. 1998-2025. Sap Release 750</td>
   </tr>
</table>
</body>
</html>
